# åŠ›éº—é£¯åº— LINE OA CRM å‰ç«¯æ¶æ§‹è¨­è¨ˆæ–‡æª”

**ç‰ˆæœ¬**: v0.1.1
**æ—¥æœŸ**: 2025-11-13
**æ–‡æª”ç‹€æ…‹**: æ­£å¼ç‰ˆ (å·²æ›´æ–°)

---

## ç›®éŒ„

1. [é …ç›®æ¦‚è¿°](#1-é …ç›®æ¦‚è¿°)
2. [æŠ€è¡“æ¶æ§‹](#2-æŠ€è¡“æ¶æ§‹)
3. [é …ç›®çµæ§‹](#3-é …ç›®çµæ§‹)
4. [æ ¸å¿ƒåŠŸèƒ½æ¨¡å¡Š](#4-æ ¸å¿ƒåŠŸèƒ½æ¨¡å¡Š)
5. [çµ„ä»¶è¨­è¨ˆ](#5-çµ„ä»¶è¨­è¨ˆ)
6. [ç‹€æ…‹ç®¡ç†](#6-ç‹€æ…‹ç®¡ç†)
7. [è·¯ç”±å°èˆª](#7-è·¯ç”±å°èˆª)
8. [UI è¨­è¨ˆç³»çµ±](#8-ui-è¨­è¨ˆç³»çµ±)
9. [æ•¸æ“šæµè¨­è¨ˆ](#9-æ•¸æ“šæµè¨­è¨ˆ)
10. [æ€§èƒ½å„ªåŒ–](#10-æ€§èƒ½å„ªåŒ–)
11. [é™„éŒ„](#11-é™„éŒ„)

---

## 1. é …ç›®æ¦‚è¿°

### 1.1 é …ç›®èƒŒæ™¯

åŠ›éº—é£¯åº— LINE OA CRM å‰ç«¯æ˜¯ä¸€å€‹ç¾ä»£åŒ–çš„ React å–®é æ‡‰ç”¨ç¨‹å¼ (SPA)ï¼Œç‚ºé£¯åº—è¡ŒéŠ·å’Œå®¢æœäººå“¡æä¾›ç›´è§€ã€é«˜æ•ˆçš„æœƒå“¡ç®¡ç†èˆ‡è¨Šæ¯æ¨æ’­ç•Œé¢ã€‚ç³»çµ±æ¡ç”¨æœ€æ–°çš„å‰ç«¯æŠ€è¡“æ£§ï¼Œå¯¦ç¾äº†å®Œæ•´çš„ LINE å®˜æ–¹å¸³è™Ÿç®¡ç†åŠŸèƒ½ã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½

- **æœƒå“¡ç®¡ç†**: æœƒå“¡åˆ—è¡¨ã€è©³æƒ…æŸ¥çœ‹ã€æ¨™ç±¤ç®¡ç†ã€å‚™è¨»ç·¨è¼¯ã€äº’å‹•è¨˜éŒ„è¿½è¹¤
- **ç¾¤ç™¼è¨Šæ¯**: è¨Šæ¯å‰µå»ºã€Flex Message ç·¨è¼¯ã€ç›®æ¨™å—çœ¾é¸æ“‡ã€æ’ç¨‹è¨­ç½®ã€è¼ªæ’­è¨Šæ¯(æœ€å¤š10å¼µ)
- **è‡ªå‹•å›æ‡‰**: é—œéµå­—è¨­ç½®ã€å›æ‡‰é¡å‹é…ç½®ã€å•Ÿç”¨ç‹€æ…‹ç®¡ç†ã€ä½¿ç”¨çµ±è¨ˆ
- **èŠå¤©å®¤**: ä¸€å°ä¸€èŠå¤©ã€è¨Šæ¯æ­·å²ã€æœƒå“¡ä¿¡æ¯å´é‚Šæ¬„ã€å³æ™‚é€šè¨Š
- **æ¨™ç±¤ç³»çµ±**: æœƒå“¡æ¨™ç±¤èˆ‡äº’å‹•æ¨™ç±¤ç®¡ç†ã€æ¨™ç±¤ç¯©é¸
- **LINE API è¨­ç½®**: LINE OA é…ç½®ã€LINE Login è¨­ç½®ã€Channel ç®¡ç†
- **èº«ä»½é©—è­‰**: ç”¨æˆ¶ç™»å…¥ã€æœƒè©±ç®¡ç†ã€æ¬Šé™æ§åˆ¶

### 1.3 æŠ€è¡“äº®é»

- ğŸš€ **ç¾ä»£åŒ–æŠ€è¡“æ£§**: React 18 + TypeScript + Vite 6
- âš¡ **æ¥µé€Ÿæ§‹å»º**: SWC ç·¨è­¯å™¨ï¼Œæ¯” Babel å¿« 20x
- ğŸ¨ **è¨­è¨ˆç³»çµ±**: å®Œæ•´çš„ shadcn/ui + Radix UI çµ„ä»¶åº« (51+ çµ„ä»¶)
- ğŸ—ï¸ **çµ„ä»¶åŒ–æ¶æ§‹**: 220+ TypeScript æ–‡ä»¶ï¼Œæ¨¡å¡ŠåŒ–æ¸…æ™°
- â™¿ **ç„¡éšœç¤™è¨ªå•**: å®Œæ•´çš„ ARIA æ”¯æŒï¼Œéµç›¤å°èˆª
- ğŸ¯ **é¡å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript é¡å‹å®šç¾©èˆ‡é©—è­‰ç³»çµ±
- ğŸ”„ **è‡ªå®šç¾©è·¯ç”±**: è¼•é‡ç´šç„¡ä¾è³´è·¯ç”±ç³»çµ±
- ğŸ§© **Figma é›†æˆ**: 150+ è¨­è¨ˆç¨¿çµ„ä»¶ç„¡ç¸«è½‰æ›ç‚ºä»£ç¢¼
- ğŸ” **èº«ä»½é©—è­‰**: å…§å»ºèªè­‰ç³»çµ±èˆ‡æœƒè©±ç®¡ç†
- ğŸ“ **è¡¨å–®é©—è­‰**: å®Œå–„çš„è¡¨å–®é©—è­‰èˆ‡éŒ¯èª¤è™•ç†æ©Ÿåˆ¶

---

## 2. æŠ€è¡“æ¶æ§‹

### 2.1 æ ¸å¿ƒæŠ€è¡“æ£§

#### æ¡†æ¶èˆ‡å·¥å…·
```json
{
  "react": "18.3.1",
  "typescript": "via @types/node 20.10.0",
  "vite": "6.3.5",
  "@vitejs/plugin-react-swc": "3.10.2"
}
```

#### UI çµ„ä»¶åº«
```json
{
  "@radix-ui/react-*": "46+ packages",
  "lucide-react": "0.487.0",
  "class-variance-authority": "0.7.1",
  "clsx": "latest",
  "tailwind-merge": "latest"
}
```

#### æ¨£å¼ç®¡ç†
```json
{
  "tailwindcss": "4.1.3",
  "tailwind-variants": "latest"
}
```

#### è¡¨å–®èˆ‡é©—è­‰
```json
{
  "react-hook-form": "7.55.0",
  "date-fns": "latest",
  "react-day-picker": "8.10.1"
}
```

#### å…¶ä»–å·¥å…·
```json
{
  "sonner": "2.0.3",         // Toast é€šçŸ¥
  "recharts": "2.15.2",      // åœ–è¡¨
  "embla-carousel-react": "8.6.0", // è¼ªæ’­
  "cmdk": "1.1.1",           // å‘½ä»¤é¢æ¿
  "vaul": "1.1.2"            // æŠ½å±œçµ„ä»¶
}
```

### 2.2 æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Browser                               â”‚
â”‚              (Chrome, Firefox, Safari)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  React Application                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  App.tsx                         â”‚   â”‚
â”‚  â”‚            (è·¯ç”±ç®¡ç† & é é¢æ¸²æŸ“)                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           Context Providers                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  NavigationContext (è·¯ç”±ç‹€æ…‹)              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  AppStateContext (UI ç‹€æ…‹)                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  DataContext (æ•¸æ“šç®¡ç†)                    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  AuthProvider (èº«ä»½é©—è­‰)                   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  ToastProvider (é€šçŸ¥ç³»çµ±)                  â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Page Components                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ æœƒå“¡ç®¡ç†  â”‚ ç¾¤ç™¼è¨Šæ¯  â”‚ è‡ªå‹•å›æ‡‰  â”‚ èŠå¤©å®¤   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ LINE API â”‚ ç”¨æˆ¶ç™»å…¥  â”‚          â”‚          â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          Business Components                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚Message â”‚ Auto   â”‚ Chat   â”‚ Flex Message   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚Creationâ”‚ Reply  â”‚ Room   â”‚ Editor         â”‚  â”‚   â”‚
â”‚  â”‚  â”‚Carouselâ”‚LINE APIâ”‚Member  â”‚ Form           â”‚  â”‚   â”‚
â”‚  â”‚  â”‚Editor  â”‚Settingsâ”‚TagEdit â”‚ Validation     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            Common Components                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚Bread   â”‚Contain â”‚Search  â”‚ Preview        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚crumb   â”‚ers     â”‚Contain â”‚ Containers     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            UI Components (shadcn/ui)             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚Button  â”‚Input   â”‚Dialog  â”‚ Table          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚Select  â”‚Card    â”‚Tooltip â”‚ (46+ çµ„ä»¶)     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“ API Calls
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Backend API (FastAPI)                       â”‚
â”‚         http://localhost:8700/api/v1/*                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 åˆ†å±¤æ¶æ§‹

#### å±•ç¤ºå±¤ (Presentation Layer)
- **è·è²¬**: UI æ¸²æŸ“ã€ç”¨æˆ¶äº¤äº’ã€ç‹€æ…‹å±•ç¤º
- **çµ„æˆ**: Page Components, Business Components, UI Components
- **ç‰¹é»**: ç´”å±•ç¤ºé‚è¼¯ï¼Œç„¡æ¥­å‹™é‚è¼¯

#### æ¥­å‹™é‚è¼¯å±¤ (Business Logic Layer)
- **è·è²¬**: æ•¸æ“šè™•ç†ã€æ¥­å‹™è¦å‰‡ã€ç‹€æ…‹ç®¡ç†
- **çµ„æˆ**: Context Providers, Custom Hooks
- **ç‰¹é»**: é›†ä¸­å¼æ¥­å‹™é‚è¼¯è™•ç†

#### æ•¸æ“šè¨ªå•å±¤ (Data Access Layer)
- **è·è²¬**: API èª¿ç”¨ã€æ•¸æ“šè½‰æ›
- **çµ„æˆ**: API Client (å¾…å¯¦ç¾)
- **ç‰¹é»**: çµ±ä¸€çš„æ•¸æ“šè«‹æ±‚æ¥å£

---

## 3. é …ç›®çµæ§‹

### 3.1 å®Œæ•´ç›®éŒ„æ¨¹

```
frontend/
â”œâ”€â”€ index.html                    # HTML å…¥å£
â”œâ”€â”€ package.json                  # ä¾è³´é…ç½®
â”œâ”€â”€ package-lock.json            # ä¾è³´é–å®š
â”œâ”€â”€ vite.config.ts               # Vite æ§‹å»ºé…ç½® (60+ npm aliases)
â”œâ”€â”€ build/                        # æ§‹å»ºè¼¸å‡ºç›®éŒ„ (ç”Ÿç”¢ç’°å¢ƒ)
â”œâ”€â”€ README.md                     # é …ç›®èªªæ˜æ–‡æª”
â””â”€â”€ src/
    â”œâ”€â”€ main.tsx                  # æ‡‰ç”¨å…¥å£
    â”œâ”€â”€ App.tsx                   # æ ¹çµ„ä»¶ (è·¯ç”±ç®¡ç†)
    â”œâ”€â”€ index.css                 # Tailwind CSS (4945è¡Œ)
    â”‚
    â”œâ”€â”€ assets/                   # éœæ…‹è³‡æº
    â”‚   â”œâ”€â”€ d1c10d8dbfc2ae5783543c9f0b76cd2635713297.png
    â”‚   â””â”€â”€ 68b289cb927cef11d11501fd420bb560ad25c667.png
    â”‚
    â”œâ”€â”€ components/               # æ¥­å‹™çµ„ä»¶ (22å€‹æ ¹çµ„ä»¶)
    â”‚   â”œâ”€â”€ AutoReply.tsx         # è‡ªå‹•å›å¾©ä¸»é é¢
    â”‚   â”œâ”€â”€ AutoReplyTableStyled.tsx
    â”‚   â”œâ”€â”€ CarouselMessageEditor.tsx  # è¼ªæ’­è¨Šæ¯ç·¨è¼¯å™¨ (NEW)
    â”‚   â”œâ”€â”€ ChatRoom.tsx          # èŠå¤©å®¤
    â”‚   â”œâ”€â”€ ChatRoomFixed.tsx     # èŠå¤©å®¤ä¿®æ­£ç‰ˆ
    â”‚   â”œâ”€â”€ CreateAutoReply.tsx
    â”‚   â”œâ”€â”€ CreateAutoReplyNew.tsx
    â”‚   â”œâ”€â”€ CreateAutoReplyInteractive.tsx
    â”‚   â”œâ”€â”€ DateTimePicker.tsx
    â”‚   â”œâ”€â”€ FilterModal.tsx
    â”‚   â”œâ”€â”€ InteractiveMessageTable.tsx
    â”‚   â”œâ”€â”€ KeywordTagsInput.tsx
    â”‚   â”œâ”€â”€ LineApiSettings.tsx   # LINE API è¨­ç½®é é¢ (NEW)
    â”‚   â”œâ”€â”€ LineApiSettingsContent.tsx  # LINE API è¨­ç½®å…§å®¹ (NEW)
    â”‚   â”œâ”€â”€ MemberTagEditModal.tsx
    â”‚   â”œâ”€â”€ MessageCreation.tsx   # ç¾¤ç™¼æ¶ˆæ¯å‰µå»º (86KB, å·²å„ªåŒ–)
    â”‚   â”œâ”€â”€ MessageList.tsx       # ç¾¤ç™¼æ¶ˆæ¯åˆ—è¡¨
    â”‚   â”œâ”€â”€ Sidebar.tsx           # å´é‚Šæ¬„å°èˆª
    â”‚   â”œâ”€â”€ StarbitLogo.tsx
    â”‚   â”œâ”€â”€ Toast.tsx
    â”‚   â”œâ”€â”€ ToastProvider.tsx
    â”‚   â””â”€â”€ TriggerTimeOptions.tsx
    â”‚
    â”‚   â”œâ”€â”€ auth/                 # èº«ä»½é©—è­‰çµ„ä»¶ (2å€‹) (NEW)
    â”‚   â”‚   â”œâ”€â”€ AuthContext.tsx   # èªè­‰ç‹€æ…‹ç®¡ç†
    â”‚   â”‚   â””â”€â”€ Login.tsx         # ç™»å…¥é é¢
    â”‚   â”‚
    â”‚   â”œâ”€â”€ chat-room/            # èŠå¤©å®¤å­çµ„ä»¶ (7å€‹)
    â”‚   â”‚   â”œâ”€â”€ ChatInput.tsx
    â”‚   â”‚   â”œâ”€â”€ ChatMessageList.tsx
    â”‚   â”‚   â”œâ”€â”€ ChatRoomLayout.tsx
    â”‚   â”‚   â”œâ”€â”€ MemberAvatar.tsx
    â”‚   â”‚   â”œâ”€â”€ MemberInfoPanel.tsx
    â”‚   â”‚   â”œâ”€â”€ MemberNoteEditor.tsx
    â”‚   â”‚   â””â”€â”€ MemberTagSection.tsx
    â”‚   â”‚
    â”‚   â”œâ”€â”€ common/               # é€šç”¨çµ„ä»¶ (6å€‹)
    â”‚   â”‚   â”œâ”€â”€ Breadcrumb.tsx    # é¢åŒ…å±‘å°èˆª
    â”‚   â”‚   â”œâ”€â”€ Containers.tsx    # å®¹å™¨çµ„ä»¶
    â”‚   â”‚   â”œâ”€â”€ PreviewContainers.tsx
    â”‚   â”‚   â”œâ”€â”€ SearchContainers.tsx
    â”‚   â”‚   â”œâ”€â”€ styles.ts         # å…±äº«æ¨£å¼
    â”‚   â”‚   â””â”€â”€ index.ts
    â”‚   â”‚
    â”‚   â”œâ”€â”€ flex-message/         # Flex Message ç·¨è¼¯å™¨ (4å€‹)
    â”‚   â”‚   â”œâ”€â”€ ConfigPanel.tsx   # é…ç½®é¢æ¿
    â”‚   â”‚   â”œâ”€â”€ FlexMessageEditorNew.tsx  # ä¸»ç·¨è¼¯å™¨
    â”‚   â”‚   â”œâ”€â”€ PreviewPanel.tsx  # é è¦½é¢æ¿
    â”‚   â”‚   â””â”€â”€ types.ts          # é¡å‹å®šç¾©
    â”‚   â”‚
    â”‚   â”œâ”€â”€ message-creation/     # ç¾¤ç™¼æ¶ˆæ¯å‰µå»ºå­çµ„ä»¶ (4å€‹)
    â”‚   â”‚   â”œâ”€â”€ PreviewPanel.tsx
    â”‚   â”‚   â”œâ”€â”€ ScheduleSettings.tsx
    â”‚   â”‚   â”œâ”€â”€ TargetAudienceSelector.tsx
    â”‚   â”‚   â””â”€â”€ index.ts
    â”‚   â”‚
    â”‚   â”œâ”€â”€ figma/                # Figma å°å…¥çµ„ä»¶ (1å€‹)
    â”‚   â”‚   â””â”€â”€ ImageWithFallback.tsx
    â”‚   â”‚
    â”‚   â””â”€â”€ ui/                   # shadcn/ui çµ„ä»¶ (51å€‹)
    â”‚       â”œâ”€â”€ accordion.tsx
    â”‚       â”œâ”€â”€ alert-dialog.tsx
    â”‚       â”œâ”€â”€ alert.tsx
    â”‚       â”œâ”€â”€ aspect-ratio.tsx
    â”‚       â”œâ”€â”€ avatar.tsx
    â”‚       â”œâ”€â”€ badge.tsx
    â”‚       â”œâ”€â”€ breadcrumb.tsx
    â”‚       â”œâ”€â”€ button.tsx
    â”‚       â”œâ”€â”€ calendar.tsx
    â”‚       â”œâ”€â”€ card.tsx
    â”‚       â”œâ”€â”€ carousel.tsx
    â”‚       â”œâ”€â”€ chart.tsx
    â”‚       â”œâ”€â”€ checkbox.tsx
    â”‚       â”œâ”€â”€ collapsible.tsx
    â”‚       â”œâ”€â”€ command.tsx
    â”‚       â”œâ”€â”€ context-menu.tsx
    â”‚       â”œâ”€â”€ dialog.tsx
    â”‚       â”œâ”€â”€ drawer.tsx
    â”‚       â”œâ”€â”€ dropdown-menu.tsx
    â”‚       â”œâ”€â”€ form.tsx
    â”‚       â”œâ”€â”€ hover-card.tsx
    â”‚       â”œâ”€â”€ input-otp.tsx
    â”‚       â”œâ”€â”€ input.tsx
    â”‚       â”œâ”€â”€ label.tsx
    â”‚       â”œâ”€â”€ menubar.tsx
    â”‚       â”œâ”€â”€ navigation-menu.tsx
    â”‚       â”œâ”€â”€ pagination.tsx
    â”‚       â”œâ”€â”€ popover.tsx
    â”‚       â”œâ”€â”€ progress.tsx
    â”‚       â”œâ”€â”€ radio-group.tsx
    â”‚       â”œâ”€â”€ resizable.tsx
    â”‚       â”œâ”€â”€ scroll-area.tsx
    â”‚       â”œâ”€â”€ select.tsx
    â”‚       â”œâ”€â”€ separator.tsx
    â”‚       â”œâ”€â”€ sheet.tsx
    â”‚       â”œâ”€â”€ sidebar.tsx
    â”‚       â”œâ”€â”€ skeleton.tsx
    â”‚       â”œâ”€â”€ slider.tsx
    â”‚       â”œâ”€â”€ sonner.tsx
    â”‚       â”œâ”€â”€ switch.tsx
    â”‚       â”œâ”€â”€ table.tsx
    â”‚       â”œâ”€â”€ tabs.tsx
    â”‚       â”œâ”€â”€ textarea.tsx
    â”‚       â”œâ”€â”€ toggle-group.tsx
    â”‚       â”œâ”€â”€ toggle.tsx
    â”‚       â”œâ”€â”€ tooltip.tsx
    â”‚       â””â”€â”€ use-mobile.ts
    â”‚
    â”œâ”€â”€ contexts/                 # Context ç‹€æ…‹ç®¡ç† (5å€‹)
    â”‚   â”œâ”€â”€ AppProviders.tsx      # çµ±ä¸€ Provider åŒ…è£ (å« AuthProvider)
    â”‚   â”œâ”€â”€ AppStateContext.tsx   # UI ç‹€æ…‹
    â”‚   â”œâ”€â”€ DataContext.tsx       # æ•¸æ“šç‹€æ…‹
    â”‚   â”œâ”€â”€ NavigationContext.tsx # è·¯ç”±å°èˆªç‹€æ…‹
    â”‚   â””â”€â”€ (auth/)               # èº«ä»½é©—è­‰ Context (ä½æ–¼ components/auth/)
    â”‚
    â”œâ”€â”€ imports/                  # Figma å°å…¥çµ„ä»¶ (150+å€‹)
    â”‚   â”œâ”€â”€ 251103æœƒå“¡ç®¡ç†MemberManagementV01.tsx
    â”‚   â”œâ”€â”€ ActionTriggerImageMessage.tsx
    â”‚   â”œâ”€â”€ ActionTriggerTextMessage.tsx
    â”‚   â”œâ”€â”€ Button-8027-97.tsx
    â”‚   â”œâ”€â”€ ButtonEdit.tsx
    â”‚   â”œâ”€â”€ Caption.tsx
    â”‚   â”œâ”€â”€ CardImage.tsx
    â”‚   â”œâ”€â”€ DropdownItem.tsx
    â”‚   â”œâ”€â”€ DropdownListHovered.tsx
    â”‚   â”œâ”€â”€ DropdownListNormal.tsx
    â”‚   â”œâ”€â”€ HeaderContainer.tsx
    â”‚   â”œâ”€â”€ IconButton.tsx
    â”‚   â”œâ”€â”€ InboxContainerNormal.tsx
    â”‚   â”œâ”€â”€ MainContainer-6001-1415.tsx  # æœƒå“¡ç®¡ç†é é¢
    â”‚   â”œâ”€â”€ MainContainer-6001-3170.tsx  # æœƒå“¡è©³æƒ…é é¢
    â”‚   â”œâ”€â”€ MainContent.tsx
    â”‚   â”œâ”€â”€ MemberTagModalFuzzySearchCreation.tsx
    â”‚   â”œâ”€â”€ MemberTagModalNormal.tsx
    â”‚   â”œâ”€â”€ MessageCard.tsx
    â”‚   â”œâ”€â”€ MessageContainer.tsx
    â”‚   â”œâ”€â”€ ModalBlank.tsx
    â”‚   â”œâ”€â”€ ModalButton.tsx
    â”‚   â”œâ”€â”€ ModalContent.tsx
    â”‚   â”œâ”€â”€ ModalNormal.tsx
    â”‚   â”œâ”€â”€ ModeEdit.tsx
    â”‚   â”œâ”€â”€ Option.tsx
    â”‚   â”œâ”€â”€ PrimitiveDiv.tsx
    â”‚   â”œâ”€â”€ PushMessage.tsx
    â”‚   â”œâ”€â”€ SelectTargetAudienceNullValue.tsx
    â”‚   â”œâ”€â”€ SelectTargetAudienceSelected.tsx
    â”‚   â”œâ”€â”€ SelectTargetAudienceSelecting.tsx
    â”‚   â”œâ”€â”€ SplitButton.tsx
    â”‚   â”œâ”€â”€ SwitchButtonActive.tsx
    â”‚   â”œâ”€â”€ TableListAtomic.tsx
    â”‚   â”œâ”€â”€ Table8Columns3Actions.tsx
    â”‚   â”œâ”€â”€ Tag.tsx
    â”‚   â”œâ”€â”€ TextArea.tsx
    â”‚   â”œâ”€â”€ Tooltip.tsx
    â”‚   â”œâ”€â”€ UploadHoverAndPressed.tsx
    â”‚   â”œâ”€â”€ UploadNormal.tsx
    â”‚   â””â”€â”€ svg-*.ts              # 70+ SVG åœ–æ¨™æ–‡ä»¶
    â”‚
    â”œâ”€â”€ styles/                   # æ¨£å¼æ–‡ä»¶ (1å€‹)
    â”‚   â””â”€â”€ globals.css
    â”‚
    â”œâ”€â”€ types/                    # TypeScript é¡å‹å®šç¾© (1å€‹)
    â”‚   â””â”€â”€ member.ts             # æœƒå“¡é¡å‹å®šç¾©
    â”‚
    â””â”€â”€ guidelines/               # é–‹ç™¼æŒ‡å— (1å€‹)
        â””â”€â”€ Guidelines.md
```

### 3.2 æ–‡ä»¶çµ±è¨ˆ

| é¡åˆ¥ | æ•¸é‡ | èªªæ˜ |
|------|------|------|
| ç¸½ TypeScript æ–‡ä»¶ | 220+ | .ts + .tsx æ–‡ä»¶ |
| UI çµ„ä»¶ | 51 | shadcn/ui çµ„ä»¶åº« |
| æ¥­å‹™çµ„ä»¶ (æ ¹ç´šåˆ¥) | 22 | é é¢ç´šæ¥­å‹™çµ„ä»¶ |
| æ¥­å‹™çµ„ä»¶ (å­çµ„ä»¶) | 23 | åŠŸèƒ½æ¨¡å¡Šå­çµ„ä»¶ (å« auth) |
| Figma å°å…¥çµ„ä»¶ | 150+ | è¨­è¨ˆç¨¿è½‰ä»£ç¢¼ |
| Context æ–‡ä»¶ | 5 | ç‹€æ…‹ç®¡ç† (å« AuthProvider) |
| CSS æ–‡ä»¶ | 2 | index.css (4945è¡Œ) + globals.css |
| æ–‡æª”æ–‡ä»¶ | 15+ | é–‹ç™¼æŒ‡å—èˆ‡é‡æ§‹æ–‡æª” |

---

## 4. æ ¸å¿ƒåŠŸèƒ½æ¨¡å¡Š

### 4.1 æœƒå“¡ç®¡ç†æ¨¡å¡Š

#### åŠŸèƒ½æè¿°
æœƒå“¡ç®¡ç†æ¨¡å¡Šæä¾›å®Œæ•´çš„æœƒå“¡ CRUD æ“ä½œã€æ¨™ç±¤ç®¡ç†ã€äº’å‹•è¨˜éŒ„è¿½è¹¤ç­‰åŠŸèƒ½ã€‚

#### æ ¸å¿ƒçµ„ä»¶

**1. æœƒå“¡åˆ—è¡¨é é¢** (`MainContainer-6001-1415.tsx`)
- æœƒå“¡åˆ—è¡¨å±•ç¤º (è¡¨æ ¼å½¢å¼)
- å¤šæ¢ä»¶æœç´¢èˆ‡ç¯©é¸
- åˆ†é æ§åˆ¶
- å¿«é€Ÿæ“ä½œ (æŸ¥çœ‹è©³æƒ…ã€é€²å…¥èŠå¤©)

**2. æœƒå“¡è©³æƒ…é é¢** (`MainContainer-6001-3170.tsx`)
- æœƒå“¡åŸºæœ¬è³‡æ–™å±•ç¤º
- æ¨™ç±¤ç®¡ç† (æœƒå“¡æ¨™ç±¤ + äº’å‹•æ¨™ç±¤)
- æ¶ˆè²»è¨˜éŒ„æŸ¥çœ‹
- äº’å‹•æ­·å²è¿½è¹¤
- å‚™è¨»ç·¨è¼¯

#### åŠŸèƒ½æµç¨‹

**æœƒå“¡æœç´¢æµç¨‹**:
```
1. ç”¨æˆ¶è¼¸å…¥æœç´¢é—œéµå­—
   â†“
2. useData Hook è§¸ç™¼æœç´¢
   â†“
3. éæ¿¾æœƒå“¡åˆ—è¡¨:
   - LINE åç¨±æ¨¡ç³ŠåŒ¹é…
   - çœŸå¯¦å§“åæ¨¡ç³ŠåŒ¹é…
   - Email æ¨¡ç³ŠåŒ¹é…
   - æ‰‹æ©Ÿè™Ÿç¢¼æ¨¡ç³ŠåŒ¹é…
   â†“
4. æ›´æ–°å±•ç¤ºåˆ—è¡¨
   â†“
5. é¡¯ç¤ºæœç´¢çµæœæ•¸é‡
```

**æ¨™ç±¤ç®¡ç†æµç¨‹**:
```
1. é»æ“Šã€Œç·¨è¼¯æ¨™ç±¤ã€æŒ‰éˆ•
   â†“
2. æ‰“é–‹æ¨™ç±¤ç·¨è¼¯æ¨¡æ…‹æ¡† (MemberTagEditModal)
   â†“
3. å±•ç¤ºç¾æœ‰æ¨™ç±¤:
   - æœƒå“¡æ¨™ç±¤ (è—è‰²)
   - äº’å‹•æ¨™ç±¤ (ç¶ è‰²)
   â†“
4. ç”¨æˆ¶æ“ä½œ:
   a. æ·»åŠ æ–°æ¨™ç±¤ (å¾åˆ—è¡¨é¸æ“‡)
   b. åˆªé™¤ç¾æœ‰æ¨™ç±¤ (é»æ“Š X)
   c. æ¨¡ç³Šæœç´¢æ¨™ç±¤
   â†“
5. æäº¤è®Šæ›´
   â†“
6. èª¿ç”¨ addTag / removeTag API
   â†“
7. æ›´æ–°æœ¬åœ°ç‹€æ…‹
   â†“
8. é¡¯ç¤ºæˆåŠŸæç¤º
```

#### UI è¨­è¨ˆ

**æœƒå“¡åˆ—è¡¨è¡¨æ ¼**:
| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| æœƒå“¡ | Image + Text | LINE é ­åƒ + LINE åç¨± |
| å§“å | Text | çœŸå¯¦å§“å |
| æ¨™ç±¤ | Badge[] | æœ€å¤šé¡¯ç¤º 6 å€‹æ¨™ç±¤ (3 æœƒå“¡ + 3 äº’å‹•) |
| æ‰‹æ©Ÿè™Ÿç¢¼ | Text | æ ¼å¼åŒ–é¡¯ç¤º |
| Email | Text | - |
| å»ºç«‹æ™‚é–“ | DateTime | yyyy/mm/dd hh:mm |
| æœ€è¿‘èŠå¤©æ™‚é–“ | DateTime | yyyy/mm/dd hh:mm |
| æ“ä½œ | Actions | èŠå¤©ã€è©³ç´° |

### 4.2 ç¾¤ç™¼è¨Šæ¯æ¨¡å¡Š

#### åŠŸèƒ½æè¿°
ç¾¤ç™¼è¨Šæ¯æ¨¡å¡Šæ”¯æŒå‰µå»ºã€ç·¨è¼¯ã€æ’ç¨‹ç™¼é€ LINE ç¾¤ç™¼è¨Šæ¯ï¼Œé›†æˆ Flex Message ç·¨è¼¯å™¨ï¼Œæä¾›è±å¯Œçš„äº’å‹•è¨Šæ¯é¡å‹ã€‚

#### æ ¸å¿ƒçµ„ä»¶

**1. è¨Šæ¯åˆ—è¡¨é é¢** (`MessageList.tsx`)
- è¨Šæ¯åˆ—è¡¨å±•ç¤º
- ç‹€æ…‹ç¯©é¸ (å·²æ’ç¨‹/è‰ç¨¿/å·²ç™¼é€)
- æœç´¢åŠŸèƒ½
- å¿«é€Ÿæ“ä½œ (ç·¨è¼¯ã€åˆªé™¤ã€ç™¼é€)

**2. è¨Šæ¯å‰µå»ºé é¢** (`MessageCreation.tsx`)
- Flex Message ç·¨è¼¯å™¨é›†æˆ
- ç›®æ¨™å—çœ¾é¸æ“‡å™¨
- æ’ç¨‹è¨­ç½®
- é è¦½é¢æ¿

**3. Flex Message ç·¨è¼¯å™¨** (`flex-message/FlexMessageEditorNew.tsx`)
- å¯è¦–åŒ–ç·¨è¼¯ç•Œé¢
- å¯¦æ™‚é è¦½
- é…ç½®é¢æ¿ (ConfigPanel)
- JSON å°å‡º/å°å…¥

#### å­çµ„ä»¶

**ç›®æ¨™å—çœ¾é¸æ“‡å™¨** (`TargetAudienceSelector.tsx`):
- é¸é …:
  - æ‰€æœ‰å¥½å‹
  - ç¯©é¸ç›®æ¨™å°è±¡ (æ¨™ç±¤ç¯©é¸)
- é¡¯ç¤ºé è¨ˆç™¼é€äººæ•¸

**æ’ç¨‹è¨­ç½®** (`ScheduleSettings.tsx`):
- ç«‹å³ç™¼é€
- æ’ç¨‹ç™¼é€ (æ—¥æœŸ + æ™‚é–“é¸æ“‡)
- ç‰¹å®šè§¸ç™¼æ¢ä»¶è¨­ç½®

**é è¦½é¢æ¿** (`PreviewPanel.tsx`):
- LINE èŠå¤©ä»‹é¢æ¨¡æ“¬
- å¯¦æ™‚æ›´æ–°é è¦½
- éŸ¿æ‡‰å¼è¨­è¨ˆ

#### åŠŸèƒ½æµç¨‹

**å‰µå»ºç¾¤ç™¼è¨Šæ¯æµç¨‹**:
```
1. é»æ“Šã€Œå»ºç«‹è¨Šæ¯æ¨æ’­ã€æŒ‰éˆ•
   â†“
2. é€²å…¥ MessageCreation é é¢
   â†“
3. ç·¨è¼¯ Flex Message:
   a. é…ç½®å…§å®¹ (æ–‡å­—ã€åœ–ç‰‡ã€æŒ‰éˆ•)
   b. å¯¦æ™‚é è¦½
   c. è¨­ç½®äº’å‹•æ¨™ç±¤
   â†“
4. é¸æ“‡ç›®æ¨™å—çœ¾:
   a. æ‰€æœ‰å¥½å‹
   b. æ¨™ç±¤ç¯©é¸ (åŒ…å«/æ’é™¤)
   â†“
5. é¡¯ç¤ºé è¨ˆç™¼é€äººæ•¸
   â†“
6. è¨­ç½®ç™¼é€æ–¹å¼:
   a. ç«‹å³ç™¼é€
   b. æ’ç¨‹ç™¼é€ (é¸æ“‡æ—¥æœŸæ™‚é–“)
   â†“
7. é è¦½è¨Šæ¯æ•ˆæœ
   â†“
8. æäº¤è¨Šæ¯:
   a. é©—è­‰å¿…å¡«å­—æ®µ
   b. æª¢æŸ¥è¨Šæ¯é…é¡
   c. èª¿ç”¨ API å‰µå»ºè¨Šæ¯
   â†“
9. ç‹€æ…‹æ›´æ–°:
   - ç«‹å³ç™¼é€ â†’ status = 'å·²ç™¼é€'
   - æ’ç¨‹ç™¼é€ â†’ status = 'å·²æ’ç¨‹'
   - å„²å­˜è‰ç¨¿ â†’ status = 'è‰ç¨¿'
   â†“
10. è¿”å›è¨Šæ¯åˆ—è¡¨
    â†“
11. é¡¯ç¤ºæˆåŠŸæç¤º
```

### 4.3 Flex Message ç·¨è¼¯å™¨

#### åŠŸèƒ½æè¿°
Flex Message ç·¨è¼¯å™¨æ˜¯ä¸€å€‹å¯è¦–åŒ–çš„ LINE Flex Message ç·¨è¼¯å·¥å…·ï¼Œæ”¯æŒå¤šç¨®è¨Šæ¯é¡å‹ï¼Œæä¾›å¯¦æ™‚é è¦½å’Œé…ç½®é¢æ¿ã€‚

#### æ¶æ§‹è¨­è¨ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       FlexMessageEditorNew (ä¸»å®¹å™¨)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ConfigPanel  â”‚     â”‚  PreviewPanel    â”‚ â”‚
â”‚  â”‚  (é…ç½®é¢æ¿)  â”‚     â”‚   (é è¦½é¢æ¿)     â”‚ â”‚
â”‚  â”‚              â”‚     â”‚                  â”‚ â”‚
â”‚  â”‚ - æ–‡å­—è¼¸å…¥   â”‚     â”‚ - LINE æ¨¡æ“¬å™¨    â”‚ â”‚
â”‚  â”‚ - åœ–ç‰‡ä¸Šå‚³   â”‚     â”‚ - å¯¦æ™‚æ›´æ–°       â”‚ â”‚
â”‚  â”‚ - æŒ‰éˆ•é…ç½®   â”‚     â”‚ - éŸ¿æ‡‰å¼è¨­è¨ˆ     â”‚ â”‚
â”‚  â”‚ - æ¨™ç±¤è¨­ç½®   â”‚     â”‚                  â”‚ â”‚
â”‚  â”‚ - è¼ªæ’­è¨­ç½®   â”‚     â”‚                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ”¯æŒçš„è¨Šæ¯é¡å‹

**1. ç´”æ–‡å­— (Template01)**:
- çµ„æˆ: æ–‡å­—å…§å®¹
- äº’å‹•æ€§: ç„¡
- æ‡‰ç”¨å ´æ™¯: ç°¡å–®é€šçŸ¥

**2. æ–‡å­—æŒ‰éˆ•ç¢ºèªå‹ (Template02)**:
- çµ„æˆ: æ–‡å­— + æŒ‰éˆ•
- äº’å‹•æ€§: æŒ‰éˆ•é»æ“Š (é–‹å•Ÿç¶²å€/è§¸ç™¼æ–‡å­—/è§¸ç™¼åœ–ç‰‡)
- æ‡‰ç”¨å ´æ™¯: å¸¶æœ‰æ˜ç¢ºè¡Œå‹•å‘¼ç±²çš„è¨Šæ¯

**3. åœ–ç‰‡é»æ“Šå‹ (Template03)**:
- çµ„æˆ: åœ–ç‰‡ + å¯é¸æŒ‰éˆ•
- äº’å‹•æ€§: åœ–ç‰‡é»æ“Šã€æŒ‰éˆ•é»æ“Š
- è¼ªæ’­æ”¯æŒ: 2-9 å¼µåœ–ç‰‡
- æ‡‰ç”¨å ´æ™¯: è¦–è¦ºåŒ–å„ªæƒ å±•ç¤º

**4. åœ–å¡æŒ‰éˆ•å‹ (Template04)**:
- çµ„æˆ: åœ–ç‰‡ + æ¨™é¡Œ + å…§æ–‡ + é‡‘é¡ + æŒ‰éˆ•
- äº’å‹•æ€§: æŒ‰éˆ•é»æ“Š (æœ€å¤š 2 å€‹)
- è¼ªæ’­æ”¯æŒ: 2-9 å¼µåœ–å¡
- æ‡‰ç”¨å ´æ™¯: ç”¢å“/å¥—é¤å±•ç¤º

#### é…ç½®é¢æ¿åŠŸèƒ½

**åŸºæœ¬è¨­ç½®**:
- è¨Šæ¯é¡å‹é¸æ“‡ (ä¸‹æ‹‰é¸å–®)
- æ–‡å­—å…§å®¹è¼¸å…¥ (Textarea)
- åœ–ç‰‡ä¸Šå‚³ (File Upload)

**æŒ‰éˆ•é…ç½®**:
- æŒ‰éˆ•æ–‡å­—
- å‹•ä½œé¡å‹: é–‹å•Ÿç¶²å€ / è§¸ç™¼æ–‡å­— / è§¸ç™¼åœ–ç‰‡
- å‹•ä½œå€¼é…ç½®

**è¼ªæ’­è¨­ç½®**:
- åœ–å¡æ•¸é‡ (2-9 å¼µ)
- æ¯å¼µåœ–å¡ç¨ç«‹é…ç½®
- é †åºèª¿æ•´ (æ‹–æ‹½æ’åº)

**äº’å‹•æ¨™ç±¤**:
- æ¨™ç±¤é¸æ“‡å™¨
- æ–°å¢æ¨™ç±¤
- é è¦½æ¨™ç±¤æ•ˆæœ

#### æ•¸æ“šçµæ§‹

```typescript
interface FlexMessage {
  type: 'bubble' | 'carousel';
  hero?: {
    type: 'image';
    url: string;
    size: 'full';
    aspectRatio: '20:13' | '1:1';
  };
  body?: {
    type: 'box';
    layout: 'vertical';
    contents: Array<{
      type: 'text';
      text: string;
      weight?: 'bold';
      size?: 'xl' | 'sm';
    }>;
  };
  footer?: {
    type: 'box';
    layout: 'vertical';
    contents: Array<{
      type: 'button';
      action: {
        type: 'uri' | 'message' | 'postback';
        label: string;
        uri?: string;
        text?: string;
      };
    }>;
  };
}
```

### 4.4 è‡ªå‹•å›æ‡‰æ¨¡å¡Š

#### åŠŸèƒ½æè¿°
è‡ªå‹•å›æ‡‰æ¨¡å¡Šå…è¨±è¨­ç½®é—œéµå­—è§¸ç™¼ã€æ™‚é–“è§¸ç™¼ã€æ­¡è¿è¨Šæ¯ç­‰è‡ªå‹•å›æ‡‰è¦å‰‡ã€‚

#### æ ¸å¿ƒçµ„ä»¶

**1. è‡ªå‹•å›æ‡‰åˆ—è¡¨** (`AutoReply.tsx`)
- è‡ªå‹•å›æ‡‰è¦å‰‡å±•ç¤º
- å•Ÿç”¨/åœç”¨é–‹é—œ
- è§¸ç™¼çµ±è¨ˆ
- å¿«é€Ÿæ“ä½œ (ç·¨è¼¯ã€åˆªé™¤)

**2. å‰µå»ºè‡ªå‹•å›æ‡‰** (`CreateAutoReply.tsx`, `CreateAutoReplyNew.tsx`)
- è§¸ç™¼é¡å‹é¸æ“‡
- é—œéµå­—é…ç½®
- å›æ‡‰å…§å®¹ç·¨è¼¯
- æ™‚é–“ç¯„åœè¨­ç½®

**3. äº’å‹•å¼è‡ªå‹•å›æ‡‰** (`CreateAutoReplyInteractive.tsx`)
- äº’å‹•å¼è¨Šæ¯æ¨¡æ¿é¸æ“‡
- åœ–æ–‡è¨Šæ¯é…ç½®
- Flex Message é›†æˆ

#### è§¸ç™¼é¡å‹é…ç½®

**1. æ–°å¥½å‹æ­¡è¿è¨Šæ¯**:
```typescript
{
  trigger_type: 'welcome',
  response_content: 'æ­¡è¿åŠ å…¥åŠ›éº—é£¯åº—ï¼',
  is_active: true
}
```

**2. é—œéµå­—è§¸ç™¼**:
```typescript
{
  trigger_type: 'keyword',
  keywords: ['è¨‚æˆ¿', 'é è¨‚', 'ä½å®¿'],
  match_type: 'å®Œå…¨ç¬¦åˆ' | 'åŒ…å«é—œéµå­—',
  response_content: '...',
  is_active: true
}
```

**3. æŒ‡å®šæ™‚é–“è§¸ç™¼**:
```typescript
{
  trigger_type: 'time',
  trigger_time_start: '00:00',
  trigger_time_end: '09:00',
  date_range_start: '2025-11-01',
  date_range_end: '2025-11-30',
  response_content: '...',
  is_active: true
}
```

#### é—œéµå­—è¼¸å…¥çµ„ä»¶ (`KeywordTagsInput.tsx`)

**åŠŸèƒ½**:
- å¤šé—œéµå­—è¼¸å…¥ (æœ€å¤š 20 çµ„)
- æ¨™ç±¤å¼å±•ç¤º
- å¿«é€Ÿåˆªé™¤
- é‡è¤‡æª¢æ¸¬

**UI è¨­è¨ˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é—œéµå­—è¨­ç½® (æœ€å¤š 20 çµ„)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [è¨‚æˆ¿ X] [é è¨‚ X] [ä½å®¿ X]              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ è¼¸å…¥é—œéµå­—...                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚ å·²è¼¸å…¥ 3/20 çµ„é—œéµå­—                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.5 èŠå¤©å®¤æ¨¡å¡Š

#### åŠŸèƒ½æè¿°
èŠå¤©å®¤æ¨¡å¡Šæä¾›ä¸€å°ä¸€èŠå¤©åŠŸèƒ½ï¼Œæ”¯æŒè¨Šæ¯æ­·å²æŸ¥çœ‹ã€äººå·¥å›è¦†ã€æœƒå“¡ä¿¡æ¯å±•ç¤ºã€‚

#### æ ¸å¿ƒçµ„ä»¶

**1. èŠå¤©å®¤å¸ƒå±€** (`ChatRoomLayout.tsx`)
- ä¸‰æ¬„å¸ƒå±€: æœƒå“¡åˆ—è¡¨ | èŠå¤©çª—å£ | æœƒå“¡ä¿¡æ¯
- éŸ¿æ‡‰å¼è¨­è¨ˆ
- å´é‚Šæ¬„æ”¶åˆ

**2. èŠå¤©è¨Šæ¯åˆ—è¡¨** (`ChatMessageList.tsx`)
- è¨Šæ¯æ­·å²å±•ç¤º
- æ™‚é–“åˆ†çµ„ (ä¸Šåˆ/ä¸­åˆ/ä¸‹åˆ/æ™šä¸Š/å‡Œæ™¨)
- å·²è®€/æœªè®€ç‹€æ…‹
- è¨Šæ¯ä¾†æºæ¨™è­˜ (äººå·¥å›è¦†/è¨Šæ¯æ¨æ’­/è‡ªå‹•å›æ‡‰)

**3. èŠå¤©è¼¸å…¥æ¡†** (`ChatInput.tsx`)
- æ–‡å­—è¼¸å…¥
- åœ–ç‰‡ä¸Šå‚³
- Emoji é¸æ“‡å™¨
- æ’ç¨‹ç™¼é€

**4. æœƒå“¡ä¿¡æ¯é¢æ¿** (`MemberInfoPanel.tsx`)
- æœƒå“¡åŸºæœ¬è³‡æ–™
- æ¨™ç±¤ç®¡ç† (MemberTagSection)
- å‚™è¨»ç·¨è¼¯ (MemberNoteEditor)
- æ¶ˆè²»è¨˜éŒ„

#### å¸ƒå±€çµæ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      â”‚                        â”‚          â”‚
â”‚ æœƒå“¡ â”‚     èŠå¤©çª—å£            â”‚  æœƒå“¡    â”‚
â”‚ åˆ—è¡¨ â”‚                        â”‚  ä¿¡æ¯    â”‚
â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  é¢æ¿    â”‚
â”‚ â–¡ å¼µä¸‰â”‚  â”‚ è¨Šæ¯1            â”‚  â”‚          â”‚
â”‚ â–¡ æå››â”‚  â”‚ è¨Šæ¯2            â”‚  â”‚ [é ­åƒ]   â”‚
â”‚ â–¡ ç‹äº”â”‚  â”‚ è¨Šæ¯3            â”‚  â”‚ å¼µä¸‰     â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚          â”‚
â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ æ¨™ç±¤:    â”‚
â”‚      â”‚  â”‚ è¼¸å…¥æ¡†...        â”‚  â”‚ [VIP]    â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ [å¸¸å®¢]   â”‚
â”‚      â”‚                        â”‚          â”‚
â”‚      â”‚                        â”‚ å‚™è¨»:    â”‚
â”‚      â”‚                        â”‚ [ç·¨è¼¯]   â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### è¨Šæ¯çµæ§‹

```typescript
interface Message {
  id: string;
  member_id: string;
  content: string;
  type: 'ç´”æ–‡å­—' | 'åœ–ç‰‡' | 'è¨Šæ¯æ¨¡æ¿';
  status: 'å·²è®€' | 'æœªè®€';
  send_time: string;  // HH:mm
  message_source: 'äººå·¥å›è¦†' | 'è¨Šæ¯æ¨æ’­' | 'è‡ªå‹•å›æ‡‰';
  conversation_date: string;  // YYYY/MM/DD (week)
  sender: 'member' | 'staff';
}
```

### 4.6 LINE API è¨­ç½®æ¨¡å¡Š (NEW)

#### åŠŸèƒ½æè¿°
LINE API è¨­ç½®æ¨¡å¡Šæä¾› LINE Messaging API å’Œ LINE Login çš„é…ç½®ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒ Channel IDã€Secretã€Access Token çš„è¨­å®šå’Œé©—è­‰ã€‚

#### æ ¸å¿ƒçµ„ä»¶

**1. LINE API è¨­ç½®é é¢** (`LineApiSettings.tsx`)
- Messaging API é…ç½®å€å¡Š
- LINE Login é…ç½®å€å¡Š
- é€£ç·šç‹€æ…‹é©—è­‰
- è¨­å®šä¿å­˜èˆ‡æ›´æ–°

**2. è¨­ç½®å…§å®¹çµ„ä»¶** (`LineApiSettingsContent.tsx`)
- Channel ID è¼¸å…¥ (10ä½æ•¸å­—)
- Channel Secret è¼¸å…¥ (32ä½è‹±æ•¸å­—)
- Channel Access Token è¼¸å…¥
- LINE å¸³è™Ÿ ID é¡¯ç¤º (å¦‚ @262qaash)
- Webhook ç‹€æ…‹é–‹é—œ

#### é…ç½®é …ç›®

**Messaging API è¨­å®š**:
```typescript
interface LineOAConfig {
  channel_id: string;          // 10ä½æ•¸å­—
  channel_secret: string;      // 32å­—å…ƒè‹±æ•¸å­—
  channel_access_token: string;
  line_account_id: string;     // @é–‹é ­çš„ ID
  webhook_enabled: boolean;
  is_verified: boolean;
}
```

**LINE Login è¨­å®š**:
```typescript
interface LoginConfig {
  channel_id: string;          // ä»¥165é–‹é ­çš„10ä½æ•¸å­—
  channel_secret: string;      // 32ä½å¤§å°å¯«è‹±æ•¸å­—
  is_verified: boolean;
}
```

#### åŠŸèƒ½æµç¨‹

**é…ç½® LINE API æµç¨‹**:
```
1. é€²å…¥ LINE API è¨­ç½®é é¢
   â†“
2. é¸æ“‡é…ç½®é¡å‹:
   a. Messaging API (æ¨æ’­è¨Šæ¯)
   b. LINE Login (ç”¨æˆ¶ç™»å…¥)
   â†“
3. è¼¸å…¥ Channel è³‡è¨Š:
   - Channel ID
   - Channel Secret
   - Access Token (åƒ… Messaging API)
   â†“
4. é©—è­‰é€£ç·š:
   - å‘¼å« LINE API æ¸¬è©¦é€£ç·š
   - é©—è­‰ Token æœ‰æ•ˆæ€§
   - æª¢æŸ¥æ¬Šé™è¨­ç½®
   â†“
5. å„²å­˜é…ç½®:
   - å¾Œç«¯ä¿å­˜é…ç½®
   - æ›´æ–°é©—è­‰ç‹€æ…‹
   - å•Ÿç”¨ Webhook (Messaging API)
   â†“
6. é¡¯ç¤ºé…ç½®ç‹€æ…‹:
   - å·²é©—è­‰ âœ…
   - æœªé©—è­‰ âš ï¸
   - LINE å¸³è™Ÿ ID é¡¯ç¤º
```

#### UI è¨­è¨ˆ

**è¨­ç½®é é¢å¸ƒå±€**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ é¦–é  > LINE API åŸºæœ¬è¨­å®š              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Messaging API è¨­å®š                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Channel ID: [__________] (10ä½æ•¸)   â”‚ â”‚
â”‚ â”‚ Channel Secret: [__________]        â”‚ â”‚
â”‚ â”‚ Channel Access Token: [__________]  â”‚ â”‚
â”‚ â”‚ LINE å¸³è™Ÿ ID: @262qaash             â”‚ â”‚
â”‚ â”‚ Webhook: [ON] âœ… å·²é©—è­‰             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚ LINE Login è¨­å®š                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Channel ID: [165_______] (10ä½æ•¸)   â”‚ â”‚
â”‚ â”‚ Channel Secret: [__________]        â”‚ â”‚
â”‚ â”‚ ç‹€æ…‹: âš ï¸ æœªé©—è­‰                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚ [æ¸¬è©¦é€£ç·š] [å„²å­˜è¨­å®š]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.7 èº«ä»½é©—è­‰æ¨¡å¡Š (NEW)

#### åŠŸèƒ½æè¿°
èº«ä»½é©—è­‰æ¨¡å¡Šæä¾›ç”¨æˆ¶ç™»å…¥ã€ç™»å‡ºå’Œæœƒè©±ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒåŸºæ–¼ Token çš„èªè­‰æ©Ÿåˆ¶ã€‚

#### æ ¸å¿ƒçµ„ä»¶

**1. ç™»å…¥é é¢** (`Login.tsx`)
- ç”¨æˆ¶å/éƒµç®±è¼¸å…¥
- å¯†ç¢¼è¼¸å…¥
- è¨˜ä½æˆ‘é¸é …
- ç™»å…¥æŒ‰éˆ•

**2. èªè­‰ Context** (`AuthContext.tsx`)
- ç”¨æˆ¶ç‹€æ…‹ç®¡ç†
- Token å­˜å„²
- ç™»å…¥/ç™»å‡ºæ–¹æ³•
- æ¬Šé™æª¢æŸ¥

#### èªè­‰æµç¨‹

**ç™»å…¥æµç¨‹**:
```
1. ç”¨æˆ¶è¼¸å…¥èªè­‰è³‡è¨Š
   â†“
2. æäº¤åˆ°å¾Œç«¯é©—è­‰
   POST /api/v1/auth/login
   â†“
3. å¾Œç«¯è¿”å› Token
   { access_token, user_info }
   â†“
4. å‰ç«¯ä¿å­˜ Token:
   - localStorage (æŒä¹…åŒ–)
   - AuthContext (é‹è¡Œæ™‚)
   â†“
5. é‡å®šå‘åˆ°ä¸»é é¢
   navigate('member-management')
   â†“
6. æ‰€æœ‰ API è«‹æ±‚æ”œå¸¶ Token
   Authorization: Bearer {token}
```

**ç™»å‡ºæµç¨‹**:
```
1. ç”¨æˆ¶é»æ“Šç™»å‡º
   â†“
2. æ¸…é™¤ Token:
   - localStorage.removeItem('token')
   - AuthContext.logout()
   â†“
3. é‡å®šå‘åˆ°ç™»å…¥é 
   navigate('login')
```

#### æ¬Šé™æ§åˆ¶

**å—ä¿è­·è·¯ç”±**:
- æœƒå“¡ç®¡ç† (éœ€è¦ç™»å…¥)
- ç¾¤ç™¼è¨Šæ¯ (éœ€è¦ç™»å…¥)
- è‡ªå‹•å›æ‡‰ (éœ€è¦ç™»å…¥)
- LINE API è¨­ç½® (éœ€è¦ç®¡ç†å“¡æ¬Šé™)

**å…¬é–‹è·¯ç”±**:
- ç™»å…¥é é¢ (ç„¡éœ€èªè­‰)

---

## 5. çµ„ä»¶è¨­è¨ˆ

### 5.1 çµ„ä»¶åˆ†é¡

#### é é¢çµ„ä»¶ (Page Components)
- è·è²¬: é é¢ç´šåˆ¥çš„å®¹å™¨çµ„ä»¶
- ç‰¹é»: æ•´åˆæ¥­å‹™é‚è¼¯ã€ç®¡ç†å­çµ„ä»¶
- ç¤ºä¾‹: `MessageList`, `AutoReply`, `ChatRoom`

#### æ¥­å‹™çµ„ä»¶ (Business Components)
- è·è²¬: å¯¦ç¾ç‰¹å®šæ¥­å‹™åŠŸèƒ½
- ç‰¹é»: å¯å¾©ç”¨ã€æ¥­å‹™é‚è¼¯å°è£
- ç¤ºä¾‹: `MessageCreation`, `MemberTagEditModal`, `FlexMessageEditor`, `LineApiSettings`, `CarouselMessageEditor`

#### é€šç”¨çµ„ä»¶ (Common Components)
- è·è²¬: è·¨æ¨¡å¡Šå¾©ç”¨çš„çµ„ä»¶
- ç‰¹é»: ç„¡æ¥­å‹™é‚è¼¯ã€é«˜åº¦å¯é…ç½®
- ç¤ºä¾‹: `Breadcrumb`, `Containers`, `SearchContainers`

#### UI çµ„ä»¶ (UI Components)
- è·è²¬: åŸºç¤ UI å…ƒç´ 
- ç‰¹é»: åŸå­ç´šã€æ¨£å¼å¯å®šåˆ¶
- ç¤ºä¾‹: `Button`, `Input`, `Dialog`, `Table`

### 5.2 çµ„ä»¶è¨­è¨ˆåŸå‰‡

#### å–®ä¸€è·è²¬åŸå‰‡
æ¯å€‹çµ„ä»¶åªè² è²¬ä¸€å€‹åŠŸèƒ½æ¨¡å¡Šï¼Œä¿æŒçµ„ä»¶ç°¡æ½”ã€‚

```typescript
// âŒ éŒ¯èª¤ç¤ºä¾‹: çµ„ä»¶è·è²¬éå¤š
function MemberManagement() {
  // æœƒå“¡åˆ—è¡¨
  // æœƒå“¡æœç´¢
  // æœƒå“¡è©³æƒ…
  // æ¨™ç±¤ç®¡ç†
  // èŠå¤©åŠŸèƒ½
}

// âœ… æ­£ç¢ºç¤ºä¾‹: æ‹†åˆ†ç‚ºå¤šå€‹çµ„ä»¶
function MemberList() { /* æœƒå“¡åˆ—è¡¨ */ }
function MemberSearch() { /* æœƒå“¡æœç´¢ */ }
function MemberDetail() { /* æœƒå“¡è©³æƒ… */ }
function MemberTagEdit() { /* æ¨™ç±¤ç®¡ç† */ }
function ChatRoom() { /* èŠå¤©åŠŸèƒ½ */ }
```

#### çµ„ä»¶çµ„åˆå„ªæ–¼ç¹¼æ‰¿
ä½¿ç”¨çµ„ä»¶çµ„åˆæ§‹å»ºè¤‡é›œåŠŸèƒ½ã€‚

```typescript
// âœ… çµ„ä»¶çµ„åˆ
function MessageCreation() {
  return (
    <Container>
      <Breadcrumb items={breadcrumbItems} />
      <FlexMessageEditor />
      <TargetAudienceSelector />
      <ScheduleSettings />
      <PreviewPanel />
      <ActionButtons />
    </Container>
  );
}
```

#### Props è¨­è¨ˆ
- å¿…éœ€å±¬æ€§å„ªå…ˆ
- æä¾›åˆç†çš„é»˜èªå€¼
- ä½¿ç”¨ TypeScript é¡å‹ç´„æŸ

```typescript
interface MessageCreationProps {
  // å¿…éœ€å±¬æ€§
  onSubmit: (data: MessageData) => void;

  // å¯é¸å±¬æ€§
  initialData?: MessageData;
  mode?: 'create' | 'edit';

  // é»˜èªå€¼
  enablePreview?: boolean; // default: true
}
```

### 5.3 shadcn/ui çµ„ä»¶åº«

#### çµ„ä»¶åˆ—è¡¨ (51å€‹)

**è¡¨å–®çµ„ä»¶**:
- `Button`: æŒ‰éˆ• (primary, secondary, outline, ghost ç­‰è®Šé«”)
- `Input`: è¼¸å…¥æ¡†
- `Textarea`: å¤šè¡Œæ–‡æœ¬æ¡†
- `Select`: ä¸‹æ‹‰é¸æ“‡å™¨
- `Checkbox`: è¤‡é¸æ¡†
- `Radio-group`: å–®é¸æŒ‰éˆ•çµ„
- `Switch`: é–‹é—œ
- `Label`: æ¨™ç±¤
- `Form`: è¡¨å–®å®¹å™¨

**ä½ˆå±€çµ„ä»¶**:
- `Card`: å¡ç‰‡
- `Separator`: åˆ†éš”ç·š
- `Tabs`: é¸é …å¡
- `Accordion`: æ‰‹é¢¨ç´
- `Collapsible`: å¯æŠ˜ç–Šå®¹å™¨
- `Resizable`: å¯èª¿æ•´å¤§å°é¢æ¿

**åé¥‹çµ„ä»¶**:
- `Alert`: è­¦å‘Šæç¤º
- `Alert-dialog`: è­¦å‘Šå°è©±æ¡†
- `Dialog`: å°è©±æ¡†
- `Drawer`: æŠ½å±œ
- `Sonner`: Toast é€šçŸ¥ (ä½¿ç”¨ sonner åº«)
- `Tooltip`: å·¥å…·æç¤º

**å°èˆªçµ„ä»¶**:
- `Breadcrumb`: é¢åŒ…å±‘å°èˆª
- `Navigation-menu`: å°èˆªèœå–®
- `Menubar`: èœå–®æ¬„
- `Dropdown-menu`: ä¸‹æ‹‰èœå–®
- `Context-menu`: å³éµèœå–®
- `Sidebar`: å´é‚Šæ¬„

**æ•¸æ“šå±•ç¤º**:
- `Table`: è¡¨æ ¼
- `Calendar`: æ—¥æ›†
- `Chart`: åœ–è¡¨ (é›†æˆ Recharts)
- `Avatar`: é ­åƒ
- `Badge`: å¾½ç« 
- `Progress`: é€²åº¦æ¢
- `Skeleton`: éª¨æ¶å±

**å…¶ä»–**:
- `Carousel`: è¼ªæ’­ (é›†æˆ embla-carousel)
- `Command`: å‘½ä»¤é¢æ¿ (é›†æˆ cmdk)
- `Hover-card`: æ‡¸æµ®å¡ç‰‡
- `Popover`: å½ˆå‡ºå±¤
- `Scroll-area`: æ»¾å‹•å€åŸŸ
- `Sheet`: å´é‚Šå½ˆå‡ºå±¤
- `Slider`: æ»‘å‹•æ¢
- `Toggle`: åˆ‡æ›æŒ‰éˆ•
- `Toggle-group`: åˆ‡æ›æŒ‰éˆ•çµ„

#### çµ„ä»¶ç‰¹æ€§

**ç„¡éšœç¤™è¨ªå• (Accessibility)**:
- å®Œæ•´çš„ ARIA å±¬æ€§
- éµç›¤å°èˆªæ”¯æŒ
- ç„¦é»ç®¡ç†
- è¢å¹•é–±è®€å™¨å‹å¥½

**å¯å®šåˆ¶æ€§**:
- Tailwind CSS æ¨£å¼
- CVA (class-variance-authority) è®Šé«”ç®¡ç†
- å®Œå…¨å¯æ§çš„æ¨£å¼è¦†è“‹

**é¡å‹å®‰å…¨**:
- TypeScript é¡å‹å®šç¾©
- Props é¡å‹æª¢æŸ¥
- æ³›å‹æ”¯æŒ

### 5.4 Figma å°å…¥çµ„ä»¶ (150+)

#### è¨­è¨ˆç³»çµ±é›†æˆ

**çµ„ä»¶ç¸½æ•¸**: 150+ å€‹è‡ªå‹•ç”Ÿæˆçš„ React çµ„ä»¶

**å·¥ä½œæµç¨‹**:
```
1. è¨­è¨ˆå¸«åœ¨ Figma å®Œæˆè¨­è¨ˆ
   â†“
2. ä½¿ç”¨ Figma Plugin å°å‡ºçµ„ä»¶
   â†“
3. ç”Ÿæˆ React çµ„ä»¶ä»£ç¢¼
   â†“
4. å°å…¥åˆ° imports/ ç›®éŒ„
   â†“
5. åœ¨æ¥­å‹™çµ„ä»¶ä¸­ä½¿ç”¨
```

#### çµ„ä»¶åˆ†é¡

**é é¢å®¹å™¨**:
- `MainContainer-6001-1415.tsx`: æœƒå“¡ç®¡ç†é é¢
- `MainContainer-6001-3170.tsx`: æœƒå“¡è©³æƒ…é é¢
- `MainContainer`: é€šç”¨é é¢å®¹å™¨

**æ¨¡æ…‹æ¡†ç³»çµ±**:
- `ModalNormal`: æ¨™æº–æ¨¡æ…‹æ¡†
- `ModalBlank`: ç©ºç™½æ¨¡æ…‹æ¡†
- `ModalContent`: æ¨¡æ…‹æ¡†å…§å®¹å€
- `ModalButton`: æ¨¡æ…‹æ¡†æŒ‰éˆ•

**ä¸‹æ‹‰èœå–®**:
- `DropdownListNormal`: æ¨™æº–ä¸‹æ‹‰åˆ—è¡¨
- `DropdownListHovered`: æ‡¸æµ®ç‹€æ…‹ä¸‹æ‹‰åˆ—è¡¨
- `DropdownItem`: ä¸‹æ‹‰é¸é …

**æ¨™ç±¤ç³»çµ±**:
- `MemberTagModalNormal`: æœƒå“¡æ¨™ç±¤æ¨¡æ…‹æ¡†
- `MemberTagModalFuzzySearchCreation`: æ¨™ç±¤æ¨¡ç³Šæœç´¢å‰µå»º
- `Tag`: æ¨™ç±¤çµ„ä»¶

**è¡¨æ ¼çµ„ä»¶**:
- `TableListAtomic`: åŸå­ç´šè¡¨æ ¼
- `Table8Columns3Actions`: 8 æ¬„ 3 æ“ä½œè¡¨æ ¼

**ä¸Šå‚³çµ„ä»¶**:
- `UploadNormal`: æ¨™æº–ä¸Šå‚³
- `UploadHoverAndPressed`: æ‡¸æµ®å’ŒæŒ‰ä¸‹ç‹€æ…‹ä¸Šå‚³

**è¨Šæ¯å¡ç‰‡**:
- `MessageCard`: è¨Šæ¯å¡ç‰‡
- `MessageContainer`: è¨Šæ¯å®¹å™¨
- `PushMessage`: ç¾¤ç™¼è¨Šæ¯

**æŒ‰éˆ•ç³»çµ±**:
- `Button-8027-97`: Figma å°å‡ºæŒ‰éˆ•
- `ButtonEdit`: ç·¨è¼¯æŒ‰éˆ•
- `IconButton`: åœ–æ¨™æŒ‰éˆ•
- `SplitButton`: åˆ†å‰²æŒ‰éˆ•

**SVG åœ–æ¨™** (70+ å€‹):
- `svg-*.ts`: å„ç¨®åœ–æ¨™å®šç¾©
- å‘½åè¦å‰‡: `svg-{hash}.ts`

---

## 6. ç‹€æ…‹ç®¡ç†

### 6.1 Context API æ¶æ§‹

#### äº”å±¤ Context ç³»çµ±

```
NavigationProvider (æœ€å¤–å±¤)
  â†“
AppStateProvider
  â†“
DataProvider
  â†“
AuthProvider (NEW)
  â†“
ToastProvider (æœ€å…§å±¤)
  â†“
Application Components
```

### 6.2 NavigationContext (è·¯ç”±ç®¡ç†)

#### åŠŸèƒ½è·è²¬
- é é¢å°èˆªæ§åˆ¶
- æ­·å²è¨˜éŒ„ç®¡ç†
- é é¢åƒæ•¸å‚³é
- è¿”å›åŠŸèƒ½æ”¯æŒ

#### ç‹€æ…‹çµæ§‹

```typescript
interface NavigationState {
  currentPage: PageType;
  params: Record<string, any>;
  history: NavigationHistoryItem[];
}

type PageType =
  | 'message-list'
  | 'auto-reply'
  | 'member-management'
  | 'member-detail'
  | 'chat-room'
  | 'flex-editor'
  | 'line-api-settings'  // NEW
  | 'login';             // NEW

interface NavigationHistoryItem {
  page: PageType;
  params: Record<string, any>;
  timestamp: number;
}
```

#### API æ–¹æ³•

```typescript
interface NavigationContextType {
  // ç‹€æ…‹
  currentPage: PageType;
  params: Record<string, any>;
  history: NavigationHistoryItem[];
  canGoBack: boolean;

  // æ–¹æ³•
  navigate: (page: PageType, params?: Record<string, any>) => void;
  goBack: () => void;
  reset: () => void;
}
```

#### ä½¿ç”¨ç¤ºä¾‹

```typescript
// å°èˆªåˆ°æœƒå“¡è©³æƒ…é 
const { navigate } = useNavigation();
navigate('member-detail', { memberId: '123' });

// è¿”å›ä¸Šä¸€é 
const { goBack, canGoBack } = useNavigation();
if (canGoBack) {
  goBack();
}

// ç²å–ç•¶å‰é é¢åƒæ•¸
const { params } = useNavigation();
const memberId = params.memberId;
```

### 6.3 DataContext (æ•¸æ“šç®¡ç†)

#### åŠŸèƒ½è·è²¬
- æœƒå“¡æ•¸æ“šç®¡ç†
- è¨Šæ¯æ•¸æ“šç®¡ç†
- è‡ªå‹•å›æ‡‰æ•¸æ“šç®¡ç†
- æ¨™ç±¤æ•¸æ“šç®¡ç†
- çµ±è¨ˆæ•¸æ“šç®¡ç†

#### æ•¸æ“šçµæ§‹

**æœƒå“¡æ•¸æ“š** (Member):
```typescript
interface Member {
  id: string;
  username: string;           // LINE user name
  realName: string;           // çœŸå¯¦å§“å
  tags: string[];             // æ‰€æœ‰æ¨™ç±¤
  memberTags?: string[];      // æœƒå“¡æ¨™ç±¤
  interactionTags?: string[]; // äº’å‹•æ¨™ç±¤
  phone: string;
  email: string;
  createTime: string;         // yyyy/mm/dd hh:mm
  lastChatTime: string;       // yyyy/mm/dd hh:mm
  avatar?: string;
  notes?: string;             // å‚™è¨»
}
```

**è¨Šæ¯æ•¸æ“š** (Message):
```typescript
interface Message {
  id: string;
  title: string;
  tags: string[];
  platform: 'LINE' | 'Facebook' | 'Instagram';
  status: 'å·²æ’ç¨‹' | 'è‰ç¨¿' | 'å·²ç™¼é€';
  recipientCount: number;
  openCount: number;
  clickCount: number;
  sendTime: string;
  createdAt: string;
  updatedAt: string;
  content?: any;  // Flex Message JSON
}
```

**è‡ªå‹•å›æ‡‰æ•¸æ“š** (AutoReply):
```typescript
interface AutoReply {
  id: string;
  keyword: string;
  replyType: 'æ–‡å­—' | 'åœ–æ–‡' | 'Flex Message';
  replyContent: string;
  enabled: boolean;
  matchType: 'å®Œå…¨ç¬¦åˆ' | 'åŒ…å«é—œéµå­—';
  tags: string[];
  usageCount: number;
  createdAt: string;
  updatedAt: string;
}
```

#### API æ–¹æ³•

```typescript
interface DataContextType {
  // æœƒå“¡ç®¡ç†
  members: Member[];
  getMemberById: (id: string) => Member | undefined;
  addMember: (member: Omit<Member, 'id'>) => void;
  updateMember: (id: string, updates: Partial<Member>) => void;
  deleteMember: (id: string) => void;

  // è¨Šæ¯ç®¡ç†
  messages: Message[];
  getMessageById: (id: string) => Message | undefined;
  addMessage: (message: Omit<Message, 'id'>) => void;
  updateMessage: (id: string, updates: Partial<Message>) => void;
  deleteMessage: (id: string) => void;

  // è‡ªå‹•å›æ‡‰ç®¡ç†
  autoReplies: AutoReply[];
  getAutoReplyById: (id: string) => AutoReply | undefined;
  addAutoReply: (autoReply: Omit<AutoReply, 'id'>) => void;
  updateAutoReply: (id: string, updates: Partial<AutoReply>) => void;
  deleteAutoReply: (id: string) => void;
  toggleAutoReply: (id: string) => void;

  // æ¨™ç±¤ç®¡ç†
  allTags: string[];
  addTag: (memberId: string, tag: string) => void;
  removeTag: (memberId: string, tag: string) => void;

  // çµ±è¨ˆæ•¸æ“š
  stats: {
    totalMembers: number;
    activeMembers: number;
    totalMessages: number;
    totalAutoReplies: number;
  };

  // é‡ç½®æ•¸æ“š
  resetAllData: () => void;
}
```

#### å°ˆç”¨ Hooks

```typescript
// æœƒå“¡æ•¸æ“š Hook
function useMembers() {
  const { members, addMember, updateMember, deleteMember } = useData();
  return { members, addMember, updateMember, deleteMember };
}

// è¨Šæ¯æ•¸æ“š Hook
function useMessages() {
  const { messages, addMessage, updateMessage, deleteMessage } = useData();
  return { messages, addMessage, updateMessage, deleteMessage };
}

// è‡ªå‹•å›æ‡‰æ•¸æ“š Hook
function useAutoReplies() {
  const { autoReplies, addAutoReply, updateAutoReply, deleteAutoReply, toggleAutoReply } = useData();
  return { autoReplies, addAutoReply, updateAutoReply, deleteAutoReply, toggleAutoReply };
}

// æ¨™ç±¤æ•¸æ“š Hook
function useTags() {
  const { allTags, addTag, removeTag } = useData();
  return { allTags, addTag, removeTag };
}

// çµ±è¨ˆæ•¸æ“š Hook
function useStats() {
  const { stats } = useData();
  return stats;
}
```

### 6.4 AppStateContext (UI ç‹€æ…‹)

#### åŠŸèƒ½è·è²¬
- å´é‚Šæ¬„é–‹é—œç‹€æ…‹
- ä¸»é¡Œè¨­ç½® (å« localStorage æŒä¹…åŒ–)
- ç”¨æˆ¶åå¥½
- UI äº¤äº’ç‹€æ…‹
- æ¨¡æ…‹æ¡†ç®¡ç†
- æœç´¢ç‹€æ…‹
- é …ç›®é¸æ“‡ç‹€æ…‹
- è¼‰å…¥ç‹€æ…‹ç®¡ç†

#### ç‹€æ…‹çµæ§‹

```typescript
interface AppState {
  // å´é‚Šæ¬„ç‹€æ…‹
  sidebarOpen: boolean;

  // ä¸»é¡Œè¨­ç½®
  theme: 'light' | 'dark' | 'auto';

  // ç”¨æˆ¶åå¥½
  preferences: {
    language: 'zh-TW' | 'en';
    pageSize: number;
  };

  // ç”¨æˆ¶ä¿¡æ¯ (NEW)
  user: {
    id: string;
    name: string;
    email: string;
  } | null;

  // æ¨¡æ…‹æ¡†ç‹€æ…‹ (NEW)
  isModalOpen: boolean;
  modalContent: React.ReactNode | null;

  // æœç´¢ç‹€æ…‹ (NEW)
  searchQuery: string;

  // é …ç›®é¸æ“‡ (NEW)
  selectedItems: string[];  // ç”¨æ–¼æ‰¹é‡æ“ä½œ

  // è¼‰å…¥ç‹€æ…‹ (NEW)
  isLoading: boolean;
}
```

#### API æ–¹æ³• (NEW)

```typescript
interface AppStateContextType extends AppState {
  // å´é‚Šæ¬„æ§åˆ¶
  toggleSidebar: () => void;
  setSidebarOpen: (open: boolean) => void;

  // ä¸»é¡Œæ§åˆ¶
  setTheme: (theme: 'light' | 'dark' | 'auto') => void;

  // æ¨¡æ…‹æ¡†æ§åˆ¶
  openModal: (content: React.ReactNode) => void;
  closeModal: () => void;

  // æœç´¢æ§åˆ¶
  setSearchQuery: (query: string) => void;
  clearSearch: () => void;

  // é¸æ“‡æ§åˆ¶
  selectItem: (id: string) => void;
  deselectItem: (id: string) => void;
  selectAll: (ids: string[]) => void;
  clearSelection: () => void;

  // è¼‰å…¥æ§åˆ¶
  setLoading: (loading: boolean) => void;
}
```

### 6.5 AuthProvider (èº«ä»½é©—è­‰) (NEW)

#### åŠŸèƒ½è·è²¬
- ç”¨æˆ¶èªè­‰ç‹€æ…‹ç®¡ç†
- Token å­˜å„²èˆ‡ç®¡ç†
- ç™»å…¥/ç™»å‡ºæµç¨‹
- æ¬Šé™æª¢æŸ¥
- è‡ªå‹• Token åˆ·æ–°

#### ç‹€æ…‹çµæ§‹

```typescript
interface AuthState {
  // èªè­‰ç‹€æ…‹
  isAuthenticated: boolean;
  isLoading: boolean;

  // ç”¨æˆ¶ä¿¡æ¯
  user: {
    id: string;
    email: string;
    name: string;
    role: 'admin' | 'staff' | 'viewer';
  } | null;

  // Token
  accessToken: string | null;
  refreshToken: string | null;
  tokenExpiry: number | null;  // Unix timestamp
}
```

#### API æ–¹æ³•

```typescript
interface AuthContextType extends AuthState {
  // ç™»å…¥
  login: (email: string, password: string) => Promise<void>;

  // ç™»å‡º
  logout: () => void;

  // Token åˆ·æ–°
  refreshAuthToken: () => Promise<void>;

  // æ¬Šé™æª¢æŸ¥
  hasPermission: (permission: string) => boolean;
  hasRole: (role: string) => boolean;

  // Token ç²å– (ç”¨æ–¼ API è«‹æ±‚)
  getAccessToken: () => string | null;
}
```

#### ä½¿ç”¨ç¤ºä¾‹

```typescript
import { useAuth } from '@/components/auth/AuthContext';

function ProtectedComponent() {
  const { isAuthenticated, user, logout, hasPermission } = useAuth();

  if (!isAuthenticated) {
    return <Navigate to="/login" />;
  }

  // æ¬Šé™æª¢æŸ¥
  if (!hasPermission('message.send')) {
    return <div>æ‚¨æ²’æœ‰ç™¼é€è¨Šæ¯çš„æ¬Šé™</div>;
  }

  return (
    <div>
      <h1>æ­¡è¿ï¼Œ{user?.name}</h1>
      <button onClick={logout}>ç™»å‡º</button>
    </div>
  );
}
```

#### Token ç®¡ç†æµç¨‹

**è‡ªå‹•åˆ·æ–°æ©Ÿåˆ¶**:
```
1. æª¢æŸ¥ Token éæœŸæ™‚é–“
   â†“
2. è‹¥å³å°‡éæœŸ (5åˆ†é˜å…§):
   - è‡ªå‹•èª¿ç”¨ refreshAuthToken()
   - ä½¿ç”¨ refresh_token ç²å–æ–° access_token
   â†“
3. æ›´æ–° localStorage:
   - localStorage.setItem('access_token', newToken)
   - localStorage.setItem('token_expiry', newExpiry)
   â†“
4. æ›´æ–° Context ç‹€æ…‹
   â†“
5. ç¹¼çºŒåŸæœ‰è«‹æ±‚
```

**å¤±æ•—è™•ç†**:
```
1. Token åˆ·æ–°å¤±æ•—
   â†“
2. æ¸…é™¤æ‰€æœ‰èªè­‰ä¿¡æ¯
   â†“
3. é‡å®šå‘åˆ°ç™»å…¥é 
   â†“
4. é¡¯ç¤ºæœƒè©±éæœŸæç¤º
```

### 6.6 ToastProvider (é€šçŸ¥ç³»çµ±)

#### åŠŸèƒ½è·è²¬
- å…¨å±€ Toast é€šçŸ¥
- æˆåŠŸ/éŒ¯èª¤/è­¦å‘Š/ä¿¡æ¯æç¤º
- è‡ªå‹•é—œé–‰
- å¯è‡ªå®šç¾©æ¨£å¼

#### ä½¿ç”¨ç¤ºä¾‹

```typescript
import { useToast } from '@/components/ToastProvider';

function MyComponent() {
  const { showToast } = useToast();

  const handleSuccess = () => {
    showToast('æ“ä½œæˆåŠŸï¼', 'success');
  };

  const handleError = () => {
    showToast('æ“ä½œå¤±æ•—ï¼Œè«‹é‡è©¦', 'error');
  };

  return (
    <div>
      <button onClick={handleSuccess}>æˆåŠŸ</button>
      <button onClick={handleError}>å¤±æ•—</button>
    </div>
  );
}
```

---

## 7. è·¯ç”±å°èˆª

### 7.1 è‡ªå®šç¾©è·¯ç”±ç³»çµ±

#### è¨­è¨ˆç†å¿µ
ä½¿ç”¨ Context API å¯¦ç¾è¼•é‡ç´šè·¯ç”±ç³»çµ±ï¼Œç„¡éœ€å¼•å…¥ React Router ç­‰ç¬¬ä¸‰æ–¹åº«ã€‚

#### å„ªå‹¢
- ğŸª¶ **è¼•é‡ç´š**: ç„¡é¡å¤–ä¾è³´
- ğŸ¯ **å¯æ§æ€§**: å®Œå…¨æŒæ§è·¯ç”±é‚è¼¯
- ğŸ”„ **æ­·å²è¨˜éŒ„**: å…§ç½®æ­·å²æ£§ç®¡ç†
- ğŸ“¦ **åƒæ•¸å‚³é**: éˆæ´»çš„åƒæ•¸å‚³éæ©Ÿåˆ¶

### 7.2 é é¢è·¯ç”±æ˜ å°„

#### è·¯ç”±è¡¨

| è·¯ç”±åç¨± | é é¢çµ„ä»¶ | èªªæ˜ | åƒæ•¸ | æ¬Šé™è¦æ±‚ |
|---------|---------|------|------|---------|
| `login` | `Login` | ç”¨æˆ¶ç™»å…¥ | - | å…¬é–‹ |
| `message-list` | `MessageList` | ç¾¤ç™¼è¨Šæ¯åˆ—è¡¨ | - | éœ€ç™»å…¥ |
| `flex-editor` | `MessageCreation` | Flex Message ç·¨è¼¯å™¨ | `messageId?` (ç·¨è¼¯æ¨¡å¼) | éœ€ç™»å…¥ |
| `auto-reply` | `AutoReply` | è‡ªå‹•å›æ‡‰åˆ—è¡¨ | - | éœ€ç™»å…¥ |
| `member-management` | `MemberManagement` | æœƒå“¡ç®¡ç†åˆ—è¡¨ | - | éœ€ç™»å…¥ |
| `member-detail` | `MemberDetail` | æœƒå“¡è©³æƒ… | `memberId` | éœ€ç™»å…¥ |
| `chat-room` | `ChatRoom` | èŠå¤©å®¤ | `memberId` | éœ€ç™»å…¥ |
| `line-api-settings` | `LineApiSettings` | LINE API è¨­ç½® | - | ç®¡ç†å“¡ |

#### è·¯ç”±å¯¦ç¾ (App.tsx)

```typescript
function App() {
  const { currentPage, params } = useNavigation();

  // æ¸²æŸ“é é¢
  const renderPage = () => {
    switch (currentPage) {
      case 'message-list':
        return <MessageList />;

      case 'flex-editor':
        return (
          <div className="flex flex-col h-screen">
            <MessageCreation messageId={params.messageId} />
          </div>
        );

      case 'auto-reply':
        return (
          <div className="flex flex-col h-screen">
            <AutoReply />
          </div>
        );

      case 'member-management':
        return <MemberManagementWithLayout />;

      case 'member-detail':
        return (
          <div className="flex h-screen">
            <Sidebar currentPage="members" />
            <MainContainer memberId={params.memberId} />
          </div>
        );

      case 'chat-room':
        return (
          <div className="flex h-screen">
            <Sidebar currentPage="chat" />
            <ChatRoom memberId={params.memberId} />
          </div>
        );

      case 'line-api-settings':  // NEW
        return (
          <div className="flex h-screen">
            <Sidebar currentPage="settings" />
            <LineApiSettings />
          </div>
        );

      case 'login':  // NEW
        return <Login />;

      default:
        return <MemberManagementWithLayout />;
    }
  };

  return (
    <AppProviders>
      {renderPage()}
    </AppProviders>
  );
}
```

### 7.3 å°èˆªæµç¨‹

#### é é¢å°èˆªæµç¨‹

```
1. ç”¨æˆ¶é»æ“Šå°èˆªæŒ‰éˆ•
   â†“
2. èª¿ç”¨ navigate(page, params)
   â†“
3. NavigationContext æ›´æ–°ç‹€æ…‹:
   - currentPage æ›´æ–°
   - params æ›´æ–°
   - history æ·»åŠ è¨˜éŒ„
   â†“
4. App.tsx renderPage() è§¸ç™¼
   â†“
5. æ ¹æ“š currentPage æ¸²æŸ“å°æ‡‰çµ„ä»¶
   â†“
6. çµ„ä»¶ä½¿ç”¨ params ç²å–åƒæ•¸
```

#### è¿”å›ä¸Šä¸€é æµç¨‹

```
1. ç”¨æˆ¶é»æ“Šè¿”å›æŒ‰éˆ•
   â†“
2. æª¢æŸ¥ canGoBack
   â†“
3. è‹¥å¯è¿”å›:
   - èª¿ç”¨ goBack()
   - history å½ˆå‡ºæœ€å¾Œä¸€æ¢è¨˜éŒ„
   - currentPage æ›´æ–°ç‚ºå‰ä¸€é 
   - params æ›´æ–°ç‚ºå‰ä¸€é åƒæ•¸
   â†“
4. App.tsx é‡æ–°æ¸²æŸ“
```

### 7.4 è·¯ç”±æ¬Šé™æ§åˆ¶ (NEW)

#### å—ä¿è­·è·¯ç”±å¯¦ç¾

**è·¯ç”±å®ˆè¡› (Route Guard)**:
```typescript
function ProtectedRoute({ children }: { children: React.ReactNode }) {
  const { isAuthenticated, isLoading } = useAuth();
  const { navigate } = useNavigation();

  // è¼‰å…¥ä¸­é¡¯ç¤ºéª¨æ¶å±
  if (isLoading) {
    return <LoadingSkeleton />;
  }

  // æœªç™»å…¥é‡å®šå‘åˆ°ç™»å…¥é 
  if (!isAuthenticated) {
    navigate('login');
    return null;
  }

  return <>{children}</>;
}
```

**ç®¡ç†å“¡è·¯ç”±å®ˆè¡›**:
```typescript
function AdminRoute({ children }: { children: React.ReactNode }) {
  const { user, hasRole } = useAuth();
  const { navigate } = useNavigation();

  // æª¢æŸ¥ç®¡ç†å“¡æ¬Šé™
  if (!hasRole('admin')) {
    toast.error('æ‚¨æ²’æœ‰è¨ªå•æ­¤é é¢çš„æ¬Šé™');
    navigate('member-management');
    return null;
  }

  return <>{children}</>;
}
```

#### è·¯ç”±é…ç½®ç¤ºä¾‹

**å—ä¿è­·çš„é é¢**:
```typescript
case 'member-management':
  return (
    <ProtectedRoute>
      <MemberManagementWithLayout />
    </ProtectedRoute>
  );

case 'line-api-settings':
  return (
    <ProtectedRoute>
      <AdminRoute>
        <div className="flex h-screen">
          <Sidebar currentPage="settings" />
          <LineApiSettings />
        </div>
      </AdminRoute>
    </ProtectedRoute>
  );
```

#### æ¬Šé™ç´šåˆ¥

| ç´šåˆ¥ | è§’è‰² | å¯è¨ªå•é é¢ |
|-----|------|-----------|
| **å…¬é–‹** | æ‰€æœ‰ç”¨æˆ¶ | ç™»å…¥é é¢ |
| **å·²ç™»å…¥** | staff, admin | æœƒå“¡ç®¡ç†ã€ç¾¤ç™¼è¨Šæ¯ã€è‡ªå‹•å›æ‡‰ã€èŠå¤©å®¤ |
| **ç®¡ç†å“¡** | admin | LINE API è¨­ç½® + æ‰€æœ‰å·²ç™»å…¥é é¢ |

### 7.5 Sidebar å°èˆªé›†æˆ

#### Sidebar çµ„ä»¶

```typescript
interface SidebarProps {
  currentPage: 'messages' | 'auto-reply' | 'members' | 'chat';
  onNavigateToMessages?: () => void;
  onNavigateToAutoReply?: () => void;
  onNavigateToMembers?: () => void;
}

function Sidebar({ currentPage, onNavigateToMessages, onNavigateToAutoReply, onNavigateToMembers }: SidebarProps) {
  return (
    <div className="w-64 bg-slate-50 border-r">
      <nav>
        <SidebarItem
          icon={<MessageSquareIcon />}
          label="æ´»å‹•èˆ‡è¨Šæ¯æ¨æ’­"
          active={currentPage === 'messages'}
          onClick={onNavigateToMessages}
        />
        <SidebarItem
          icon={<ReplyIcon />}
          label="è‡ªå‹•å›æ‡‰"
          active={currentPage === 'auto-reply'}
          onClick={onNavigateToAutoReply}
        />
        <SidebarItem
          icon={<UsersIcon />}
          label="æœƒå“¡ç®¡ç†"
          active={currentPage === 'members'}
          onClick={onNavigateToMembers}
        />
      </nav>
    </div>
  );
}
```

#### å°èˆªé›†æˆç¤ºä¾‹

```typescript
function MemberManagementWithLayout() {
  const { navigate } = useNavigation();

  return (
    <div className="flex h-screen">
      <Sidebar
        currentPage="members"
        onNavigateToMessages={() => navigate('message-list')}
        onNavigateToAutoReply={() => navigate('auto-reply')}
        onNavigateToMembers={() => navigate('member-management')}
      />
      <MainContainer />
    </div>
  );
}
```

---

## 8. UI è¨­è¨ˆç³»çµ±

### 8.1 è¨­è¨ˆä»¤ç‰Œ (Design Tokens)

#### é¡è‰²ç³»çµ±

**å“ç‰Œè‰²**:
```css
--primary: #0F6BEB;            /* ä¸»è‰² - è—è‰² */
--primary-hover: #0D5DD1;      /* ä¸»è‰²æ‡¸æµ® */
--primary-active: #0B4FB7;     /* ä¸»è‰²æŒ‰ä¸‹ */
```

**èƒŒæ™¯è‰²**:
```css
--background: #FAFAFA;         /* slate-50 */
--background-secondary: #F5F5F5; /* slate-100 */
--background-tertiary: #FFFFFF;  /* white */
```

**æ–‡å­—è‰²**:
```css
--text-primary: #383838;       /* ä¸»æ–‡å­— */
--text-secondary: #6E6E6E;     /* æ¬¡è¦æ–‡å­— */
--text-tertiary: #9CA3AF;      /* æç¤ºæ–‡å­— */
```

**ç‹€æ…‹è‰²**:
```css
--success: #10B981;            /* æˆåŠŸ - ç¶ è‰² */
--warning: #F59E0B;            /* è­¦å‘Š - æ©™è‰² */
--error: #EF4444;              /* éŒ¯èª¤ - ç´…è‰² */
--info: #3B82F6;               /* ä¿¡æ¯ - è—è‰² */
```

**äº’å‹•è‰²**:
```css
--interactive: #E1EBF9;        /* é¸ä¸­ç‹€æ…‹ */
--hover: #F3F4F6;              /* æ‡¸æµ®ç‹€æ…‹ */
--border: #E5E7EB;             /* é‚Šæ¡† */
```

#### é–“è·ç³»çµ±

**åŸºç¤é–“è·**: 4px (0.25rem)

```css
--spacing-1: 4px;    /* 0.25rem */
--spacing-2: 8px;    /* 0.5rem */
--spacing-3: 12px;   /* 0.75rem */
--spacing-4: 16px;   /* 1rem */
--spacing-5: 20px;   /* 1.25rem */
--spacing-6: 24px;   /* 1.5rem */
--spacing-8: 32px;   /* 2rem */
--spacing-10: 40px;  /* 2.5rem */
--spacing-12: 48px;  /* 3rem */
```

#### å­—é«”ç³»çµ±

**å­—é«”å®¶æ—**:
```css
--font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',
             'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
--font-mono: 'Menlo', 'Monaco', 'Courier New', monospace;
```

**å­—é«”å¤§å°**:
```css
--text-xs: 12px;     /* 0.75rem */
--text-sm: 14px;     /* 0.875rem */
--text-base: 16px;   /* 1rem */
--text-lg: 18px;     /* 1.125rem */
--text-xl: 20px;     /* 1.25rem */
--text-2xl: 24px;    /* 1.5rem */
--text-3xl: 30px;    /* 1.875rem */
```

**å­—é‡**:
```css
--font-normal: 400;
--font-medium: 500;
--font-semibold: 600;
--font-bold: 700;
```

#### åœ“è§’ç³»çµ±

```css
--rounded-none: 0px;
--rounded-sm: 2px;
--rounded: 4px;
--rounded-md: 6px;
--rounded-lg: 8px;
--rounded-xl: 12px;
--rounded-2xl: 16px;
--rounded-full: 9999px;
```

#### é™°å½±ç³»çµ±

```css
--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
--shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
```

### 8.2 Tailwind CSS é…ç½®

#### é…ç½®æ–‡ä»¶

```typescript
// tailwind.config.js (é›†æˆåœ¨ index.css ä¸­)
export default {
  darkMode: ["class"],
  content: [
    './pages/**/*.{ts,tsx}',
    './components/**/*.{ts,tsx}',
    './app/**/*.{ts,tsx}',
    './src/**/*.{ts,tsx}',
  ],
  theme: {
    extend: {
      colors: {
        primary: '#0F6BEB',
        // ... å…¶ä»–é¡è‰²
      },
      fontFamily: {
        sans: ['var(--font-sans)'],
      },
      // ... å…¶ä»–é…ç½®
    },
  },
  plugins: [],
}
```

#### è‡ªå®šç¾© Utilities

```css
/* index.css */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .container-custom {
    @apply mx-auto px-4 max-w-7xl;
  }

  .button-base {
    @apply inline-flex items-center justify-center rounded-md
           font-medium transition-colors focus-visible:outline-none
           focus-visible:ring-2 disabled:pointer-events-none
           disabled:opacity-50;
  }
}
```

### 8.3 çµ„ä»¶è®Šé«”ç³»çµ±

#### CVA (class-variance-authority)

```typescript
import { cva, type VariantProps } from "class-variance-authority"

const buttonVariants = cva(
  "inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",
  {
    variants: {
      variant: {
        default: "bg-primary text-white hover:bg-primary-hover",
        destructive: "bg-red-500 text-white hover:bg-red-600",
        outline: "border border-gray-300 bg-transparent hover:bg-gray-100",
        secondary: "bg-gray-100 text-gray-900 hover:bg-gray-200",
        ghost: "hover:bg-gray-100",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, ...props }, ref) => {
    return (
      <button
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
```

### 8.4 éŸ¿æ‡‰å¼è¨­è¨ˆ

#### æ–·é»ç³»çµ±

```css
/* Tailwind CSS é»˜èªæ–·é» */
sm: 640px;   /* å°å‹è¨­å‚™ */
md: 768px;   /* å¹³æ¿ */
lg: 1024px;  /* ç­†è¨˜æœ¬ */
xl: 1280px;  /* æ¡Œé¢ */
2xl: 1536px; /* å¤§è¢å¹• */
```

#### éŸ¿æ‡‰å¼ç¤ºä¾‹

```tsx
<div className="
  grid
  grid-cols-1
  sm:grid-cols-2
  lg:grid-cols-3
  xl:grid-cols-4
  gap-4
">
  {/* å¡ç‰‡å…§å®¹ */}
</div>
```

---

## 9. æ•¸æ“šæµè¨­è¨ˆ

### 9.1 æ•¸æ“šæµå‘åœ– (å·²æ›´æ–°)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              User Actions                    â”‚
â”‚   (é»æ“Šã€è¼¸å…¥ã€æäº¤ã€å°èˆªã€ç™»å…¥ç­‰)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Authentication Check               â”‚
â”‚        (AuthProvider æ¬Šé™é©—è­‰)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Page/Business Components             â”‚
â”‚   (MessageList, AutoReply, MemberDetail,    â”‚
â”‚    LineApiSettings, Login)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Context Hooks                     â”‚
â”‚  (useData, useNavigation, useAuth,          â”‚
â”‚   useToast, useAppState)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Context State Update               â”‚
â”‚  (DataContext, NavigationContext,           â”‚
â”‚   AuthContext, AppStateContext)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Component Re-render                 â”‚
â”‚        (React è‡ªå‹•é‡æ–°æ¸²æŸ“)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 API èª¿ç”¨æµç¨‹ (å«èªè­‰)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Component Action                     â”‚
â”‚   (å‰µå»ºæœƒå“¡ã€ç™¼é€è¨Šæ¯ç­‰)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Authentication Check                  â”‚
â”‚   useAuth().getAccessToken()                â”‚
â”‚   æª¢æŸ¥ Token æ˜¯å¦æœ‰æ•ˆ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          API Client Function                 â”‚
â”‚   (apiClient.members.create())              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         HTTP Request (fetch)                 â”‚
â”‚   POST /api/v1/members                      â”‚
â”‚   Headers:                                  â”‚
â”‚     Authorization: Bearer {token}           â”‚
â”‚     Content-Type: application/json          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Backend API Response                  â”‚
â”‚   Success: { code: 200, data: { ... } }    â”‚
â”‚   Unauthorized: { code: 401, ... }          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Error Handling                       â”‚
â”‚   401: é‡æ–°ç™»å…¥                              â”‚
â”‚   403: é¡¯ç¤ºç„¡æ¬Šé™                             â”‚
â”‚   500: é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Data Transform (optional)             â”‚
â”‚   è½‰æ›ç‚ºå‰ç«¯æ•¸æ“šçµæ§‹                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Update Context State                   â”‚
â”‚   useData().addMember(newMember)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Component Re-render                   â”‚
â”‚   é¡¯ç¤ºæ–°æœƒå“¡åœ¨åˆ—è¡¨ä¸­                           â”‚
â”‚   Toast: "æœƒå“¡å‰µå»ºæˆåŠŸ"                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.3 API Client è¨­è¨ˆ (å»ºè­°å¯¦ç¾)

```typescript
// services/api/client.ts
class APIClient {
  private baseURL = 'http://localhost:8700/api/v1';
  private authContext?: AuthContextType;  // NEW: èªè­‰ä¸Šä¸‹æ–‡å¼•ç”¨

  // NEW: è¨­ç½®èªè­‰ä¸Šä¸‹æ–‡
  setAuthContext(auth: AuthContextType) {
    this.authContext = auth;
  }

  async request<T>(
    endpoint: string,
    options?: RequestInit
  ): Promise<T> {
    // NEW: å¾ AuthContext ç²å– Token
    const token = this.authContext?.getAccessToken() ||
                  localStorage.getItem('access_token');

    const response = await fetch(`${this.baseURL}${endpoint}`, {
      headers: {
        'Content-Type': 'application/json',
        ...(token && { 'Authorization': `Bearer ${token}` }),  // NEW: æ¢ä»¶æ€§æ·»åŠ 
        ...options?.headers,
      },
      ...options,
    });

    // NEW: çµ±ä¸€éŒ¯èª¤è™•ç†
    if (!response.ok) {
      if (response.status === 401) {
        // Token éæœŸï¼Œå˜—è©¦åˆ·æ–°
        if (this.authContext) {
          await this.authContext.refreshAuthToken();
          // é‡è©¦è«‹æ±‚
          return this.request(endpoint, options);
        }
        // ç„¡æ³•åˆ·æ–°ï¼Œé‡å®šå‘åˆ°ç™»å…¥
        window.location.href = '/login';
        throw new Error('æœªæˆæ¬Šï¼Œè«‹é‡æ–°ç™»å…¥');
      }

      if (response.status === 403) {
        throw new Error('æ‚¨æ²’æœ‰åŸ·è¡Œæ­¤æ“ä½œçš„æ¬Šé™');
      }

      const errorData = await response.json().catch(() => ({}));
      throw new Error(errorData.message || `API Error: ${response.statusText}`);
    }

    const data = await response.json();
    return data.data;
  }

  private getToken(): string | null {
    return localStorage.getItem('access_token');
  }
}

// services/api/members.ts
class MembersAPI {
  constructor(private client: APIClient) {}

  async getAll(params?: SearchParams): Promise<Member[]> {
    return this.client.request('/members', {
      method: 'GET',
      // ... query params
    });
  }

  async getById(id: string): Promise<Member> {
    return this.client.request(`/members/${id}`);
  }

  async create(data: MemberCreate): Promise<Member> {
    return this.client.request('/members', {
      method: 'POST',
      body: JSON.stringify(data),
    });
  }

  async update(id: string, data: MemberUpdate): Promise<Member> {
    return this.client.request(`/members/${id}`, {
      method: 'PUT',
      body: JSON.stringify(data),
    });
  }

  async delete(id: string): Promise<void> {
    return this.client.request(`/members/${id}`, {
      method: 'DELETE',
    });
  }
}

// services/api/index.ts
const apiClient = new APIClient();

export const api = {
  members: new MembersAPI(apiClient),
  messages: new MessagesAPI(apiClient),
  autoReplies: new AutoRepliesAPI(apiClient),
  tags: new TagsAPI(apiClient),
  // ...
};
```

---

## 10. æ€§èƒ½å„ªåŒ–

### 10.1 æ§‹å»ºå„ªåŒ–

#### Vite é…ç½®å„ªåŒ–

```typescript
// vite.config.ts
export default defineConfig({
  plugins: [react()],  // ä½¿ç”¨ SWC ç·¨è­¯å™¨

  build: {
    target: 'esnext',
    minify: 'esbuild',
    rollupOptions: {
      output: {
        manualChunks: {
          'react-vendor': ['react', 'react-dom'],
          'radix-ui': [
            '@radix-ui/react-dialog',
            '@radix-ui/react-dropdown-menu',
            '@radix-ui/react-select',
            // ...
          ],
        },
      },
    },
  },

  optimizeDeps: {
    include: ['react', 'react-dom', 'lucide-react'],
  },
});
```

#### ä»£ç¢¼åˆ†å‰²
- **è·¯ç”±ç´šåˆ†å‰²**: ä½¿ç”¨ React.lazy() æ‡¶åŠ è¼‰é é¢çµ„ä»¶
- **çµ„ä»¶ç´šåˆ†å‰²**: å¤§å‹çµ„ä»¶æŒ‰éœ€åŠ è¼‰
- **ç¬¬ä¸‰æ–¹åº«åˆ†å‰²**: Vendor chunks åˆ†é›¢

### 10.2 é‹è¡Œæ™‚å„ªåŒ–

#### React æ€§èƒ½å„ªåŒ–

**1. React.memo**:
```typescript
const MemberListItem = React.memo(({ member }: { member: Member }) => {
  return (
    <div className="member-item">
      {/* ... */}
    </div>
  );
});
```

**2. useMemo**:
```typescript
const filteredMembers = useMemo(() => {
  return members.filter(m =>
    m.name.includes(searchQuery) ||
    m.email.includes(searchQuery)
  );
}, [members, searchQuery]);
```

**3. useCallback**:
```typescript
const handleMemberClick = useCallback((memberId: string) => {
  navigate('member-detail', { memberId });
}, [navigate]);
```

#### è™›æ“¬åŒ–åˆ—è¡¨
å°æ–¼å¤§é‡æ•¸æ“šçš„åˆ—è¡¨ï¼Œå»ºè­°ä½¿ç”¨è™›æ“¬åŒ–æŠ€è¡“:

```typescript
import { useVirtualizer } from '@tanstack/react-virtual';

function MemberList({ members }: { members: Member[] }) {
  const parentRef = React.useRef<HTMLDivElement>(null);

  const virtualizer = useVirtualizer({
    count: members.length,
    getScrollElement: () => parentRef.current,
    estimateSize: () => 60,
  });

  return (
    <div ref={parentRef} style={{ height: '600px', overflow: 'auto' }}>
      <div
        style={{
          height: `${virtualizer.getTotalSize()}px`,
          position: 'relative',
        }}
      >
        {virtualizer.getVirtualItems().map((virtualRow) => (
          <div
            key={virtualRow.index}
            style={{
              position: 'absolute',
              top: 0,
              left: 0,
              width: '100%',
              height: `${virtualRow.size}px`,
              transform: `translateY(${virtualRow.start}px)`,
            }}
          >
            <MemberListItem member={members[virtualRow.index]} />
          </div>
        ))}
      </div>
    </div>
  );
}
```

### 10.3 åœ–ç‰‡å„ªåŒ–

#### åœ–ç‰‡æ‡¶åŠ è¼‰
```typescript
<img
  src={member.avatar}
  alt={member.name}
  loading="lazy"
  decoding="async"
/>
```

#### åœ–ç‰‡æ ¼å¼å„ªåŒ–
- ä½¿ç”¨ WebP æ ¼å¼
- æä¾›å¤šç¨®å°ºå¯¸ (responsive images)
- CDN åŠ é€Ÿ

### 10.4 ç·©å­˜ç­–ç•¥

#### ç€è¦½å™¨ç·©å­˜
```nginx
# Nginx é…ç½®
location /assets/ {
  expires 1y;
  add_header Cache-Control "public, immutable";
}
```

#### Service Worker (å¾…å¯¦ç¾)
- é›¢ç·šè¨ªå•æ”¯æŒ
- éœæ…‹è³‡æºç·©å­˜
- API éŸ¿æ‡‰ç·©å­˜

---

## 11. é™„éŒ„

### 11.1 é–‹ç™¼ç’°å¢ƒé…ç½®

#### ç’°å¢ƒè®Šé‡

```bash
# .env.development
VITE_API_BASE_URL=http://localhost:8700/api/v1
VITE_PUBLIC_URL=http://localhost:5173
```

```bash
# .env.production
VITE_API_BASE_URL=https://api.example.com/api/v1
VITE_PUBLIC_URL=https://example.com
```

#### é–‹ç™¼æœå‹™å™¨é…ç½®

```typescript
// vite.config.ts
export default defineConfig({
  server: {
    port: 5173,
    open: true,
    proxy: {
      '/api': {
        target: 'http://localhost:8700',
        changeOrigin: true,
      },
    },
  },
});
```

### 11.2 å¸¸ç”¨å‘½ä»¤

```bash
# å®‰è£ä¾è³´
npm install

# é–‹ç™¼æ¨¡å¼
npm run dev

# æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬
npm run build

# é è¦½æ§‹å»ºçµæœ
npm run preview

# é¡å‹æª¢æŸ¥
npx tsc --noEmit

# ä»£ç¢¼æ ¼å¼åŒ– (å»ºè­°å®‰è£ Prettier)
npx prettier --write "src/**/*.{ts,tsx}"

# ESLint æª¢æŸ¥ (å»ºè­°å®‰è£ ESLint)
npx eslint src/
```

### 11.3 IDE é…ç½®

#### VSCode æ¨è–¦æ“´å±•

```json
{
  "recommendations": [
    "dbaeumer.vscode-eslint",
    "esbenp.prettier-vscode",
    "bradlc.vscode-tailwindcss",
    "formulahendry.auto-rename-tag",
    "christian-kohler.path-intellisense"
  ]
}
```

#### VSCode è¨­ç½®

```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "tailwindCSS.experimental.classRegex": [
    ["cva\\(([^)]*)\\)", "[\"'`]([^\"'`]*).*?[\"'`]"],
    ["cn\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"]
  ]
}
```

### 11.4 éƒ¨ç½²é…ç½®

#### Nginx é…ç½®

```nginx
server {
    listen 80;
    server_name example.com;
    root /var/www/frontend/build;
    index index.html;

    # Gzip å£“ç¸®
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

    # éœæ…‹è³‡æºç·©å­˜
    location /assets/ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # SPA è·¯ç”±æ”¯æŒ
    location / {
        try_files $uri $uri/ /index.html;
    }

    # API ä»£ç†
    location /api/ {
        proxy_pass http://localhost:8700;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
```

#### Docker é…ç½®

```dockerfile
# Dockerfile
FROM node:20-alpine AS builder

WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/build /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

### 11.5 æ•…éšœæ’æŸ¥

#### å¸¸è¦‹å•é¡Œ

**1. é–‹ç™¼æœå‹™å™¨ç„¡æ³•å•Ÿå‹•**:
- æª¢æŸ¥ç«¯å£ 5173 æ˜¯å¦è¢«ä½”ç”¨
- æª¢æŸ¥ Node.js ç‰ˆæœ¬ (éœ€è¦ â‰¥18)
- åˆªé™¤ node_modules é‡æ–°å®‰è£

**2. æ§‹å»ºå¤±æ•—**:
- æª¢æŸ¥ TypeScript é¡å‹éŒ¯èª¤
- æª¢æŸ¥å°å…¥è·¯å¾‘æ˜¯å¦æ­£ç¢º
- æŸ¥çœ‹ Vite æ§‹å»ºæ—¥èªŒ

**3. æ¨£å¼ä¸ç”Ÿæ•ˆ**:
- æª¢æŸ¥ Tailwind CSS é…ç½®
- ç¢ºèª index.css å·²æ­£ç¢ºå°å…¥
- æ¸…é™¤ç€è¦½å™¨ç·©å­˜

**4. API èª¿ç”¨å¤±æ•—**:
- æª¢æŸ¥å¾Œç«¯æœå‹™æ˜¯å¦å•Ÿå‹•
- æª¢æŸ¥ CORS é…ç½®
- æª¢æŸ¥ API ç«¯é»æ˜¯å¦æ­£ç¢º

### 11.6 æ”¹é€²å»ºè­°

#### å„ªå…ˆç´šé«˜
1. **API å±¤å¯¦ç¾**: çµ±ä¸€çš„ API èª¿ç”¨å°è£
2. **éŒ¯èª¤é‚Šç•Œ**: æ·»åŠ  Error Boundary çµ„ä»¶
3. **æ¸¬è©¦è¦†è“‹**: å–®å…ƒæ¸¬è©¦å’Œé›†æˆæ¸¬è©¦
4. **æ–‡æª”å®Œå–„**: çµ„ä»¶æ–‡æª”å’Œ API æ–‡æª”

#### å„ªå…ˆç´šä¸­
5. **ä»£ç¢¼åˆ†å‰²**: å¯¦ç¾æ‡¶åŠ è¼‰
6. **æ€§èƒ½ç›£æ§**: æ·»åŠ æ€§èƒ½æŒ‡æ¨™è¿½è¹¤
7. **é›¢ç·šæ”¯æŒ**: Service Worker å¯¦ç¾
8. **åœ‹éš›åŒ–**: i18n æ”¯æŒ

#### å„ªå…ˆç´šä½
9. **ä¸»é¡Œåˆ‡æ›**: æ·±è‰²æ¨¡å¼æ”¯æŒ
10. **PWA**: æ¼¸é€²å¼ Web æ‡‰ç”¨
11. **å‹•ç•«æ•ˆæœ**: é é¢éæ¸¡å‹•ç•«
12. **éµç›¤å¿«æ·éµ**: æå‡æ“ä½œæ•ˆç‡

### 11.7 æŠ€è¡“å‚µå‹™

1. **imports/ ç›®éŒ„**: 150+ å€‹ Figma å°å…¥çµ„ä»¶éœ€è¦æ•´ç†å’Œå„ªåŒ–
2. **é‡è¤‡ä»£ç¢¼**: æŸäº›çµ„ä»¶å­˜åœ¨ç›¸ä¼¼é‚è¼¯å¯ä»¥æŠ½å–
3. **æ¨£å¼ç®¡ç†**: 4945è¡Œ CSS æ–‡ä»¶è¼ƒå¤§ï¼Œå»ºè­°å„ªåŒ–
4. **é¡å‹å®šç¾©**: éƒ¨åˆ†çµ„ä»¶ä½¿ç”¨ any é¡å‹ï¼Œéœ€è¦å®Œå–„é¡å‹å®šç¾©
5. **API Mock**: ç•¶å‰ä½¿ç”¨ Mock æ•¸æ“šï¼Œéœ€è¦å°æ¥çœŸå¯¦å¾Œç«¯ API
6. **èªè­‰ç³»çµ±**: éœ€è¦å®Œæ•´å¯¦ç¾å¾Œç«¯ API å°æ¥å’Œ Token åˆ·æ–°æ©Ÿåˆ¶
7. **æ¬Šé™ç®¡ç†**: å‰ç«¯æ¬Šé™æ§åˆ¶é‚è¼¯éœ€è¦èˆ‡å¾Œç«¯ RBAC ç³»çµ±æ•´åˆ

### 11.8 æœ€è¿‘æ”¹é€²èˆ‡é‡æ§‹ (v0.1 â†’ v0.1.1) (NEW)

#### é‡å¤§æ›´æ–°ç¸½è¦½

æœ¬æ¬¡æ›´æ–° (v0.1.1) ä¸»è¦èšç„¦æ–¼ä¸‰å¤§æ–¹å‘ï¼š
1. âœ… **èº«ä»½é©—è­‰ç³»çµ±**: æ–°å¢å®Œæ•´çš„ç”¨æˆ¶èªè­‰æµç¨‹
2. âœ… **LINE API é›†æˆ**: LINE Messaging API å’Œ LINE Login é…ç½®ç®¡ç†
3. âœ… **è¡¨å–®é©—è­‰å„ªåŒ–**: å®Œå–„çš„è¡¨å–®é©—è­‰èˆ‡éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
4. âœ… **Flex Message å„ªåŒ–**: ç§»é™¤éºç•™ Cards çµ„ä»¶ï¼Œå„ªåŒ– Flex Message æ•´åˆ

#### è©³ç´°æ”¹é€²è¨˜éŒ„

**1. èº«ä»½é©—è­‰ç³»çµ±å¯¦ç¾ (NEW)**

| çµ„ä»¶ | åŠŸèƒ½ | ç‹€æ…‹ |
|------|------|------|
| `Login.tsx` | ç”¨æˆ¶ç™»å…¥ä»‹é¢ | âœ… å·²å¯¦ç¾ |
| `AuthContext.tsx` | èªè­‰ç‹€æ…‹ç®¡ç† | âœ… å·²å¯¦ç¾ |
| Token ç®¡ç† | localStorage æŒä¹…åŒ– | âœ… å·²å¯¦ç¾ |
| æ¬Šé™æ§åˆ¶ | è·¯ç”±å®ˆè¡›èˆ‡æ¬Šé™æª¢æŸ¥ | âœ… å·²å¯¦ç¾ |
| è‡ªå‹•åˆ·æ–° | Token éæœŸè‡ªå‹•åˆ·æ–° | ğŸ”„ éƒ¨åˆ†å¯¦ç¾ |

**å½±éŸ¿ç¯„åœ**:
- æ‰€æœ‰é é¢çµ„ä»¶ç¾åœ¨éœ€è¦èªè­‰æ‰èƒ½è¨ªå•
- App.tsx å¢åŠ  AuthProvider
- NavigationContext æ–°å¢ `login` è·¯ç”±

**2. LINE API è¨­ç½®æ¨¡å¡Š (NEW)**

| çµ„ä»¶ | åŠŸèƒ½ | ç‹€æ…‹ |
|------|------|------|
| `LineApiSettings.tsx` | è¨­ç½®ä¸»é é¢ | âœ… å·²å¯¦ç¾ |
| `LineApiSettingsContent.tsx` | è¡¨å–®å…§å®¹çµ„ä»¶ | âœ… å·²å¯¦ç¾ |
| Messaging API | Channel é…ç½®èˆ‡é©—è­‰ | âœ… å·²å¯¦ç¾ |
| LINE Login | Login Channel é…ç½® | âœ… å·²å¯¦ç¾ |
| Webhook ç®¡ç† | Webhook ç‹€æ…‹æ§åˆ¶ | ğŸ”„ éƒ¨åˆ†å¯¦ç¾ |

**å½±éŸ¿ç¯„åœ**:
- Sidebar æ–°å¢ LINE API è¨­ç½®é¸é …
- NavigationContext æ–°å¢ `line-api-settings` è·¯ç”±
- éœ€è¦ç®¡ç†å“¡æ¬Šé™æ‰èƒ½è¨ªå•

**3. Flex Message é‡æ§‹ (2025-11-13)**

**Git Commit**: `1169674 refactor: ç§»é™¤ Cards éºç•™ç¨‹å¼ç¢¼ä¸¦å„ªåŒ– Flex Message æ•´åˆ`

**æ”¹å‹•å…§å®¹**:
- âŒ ç§»é™¤éºç•™çš„ Cards ç·¨è¼¯å™¨ç›¸é—œç¨‹å¼ç¢¼
- âœ… çµ±ä¸€ä½¿ç”¨ Flex Message Editor
- âœ… å„ªåŒ–è¼ªæ’­è¨Šæ¯æ”¯æŒ (æœ€å¤š 10 å¼µåœ–å¡)
- âœ… æ”¹å–„é è¦½é¢æ¿æ¨£å¼
- âœ… æ•´åˆ CarouselMessageEditor çµ„ä»¶

**å½±éŸ¿ç¯„åœ**:
- `MessageCreation.tsx` (86KB) - ä¸»è¦é‡æ§‹æ–‡ä»¶
- `FlexMessageEditorNew.tsx` - åŠŸèƒ½å¢å¼·
- `PreviewPanel.tsx` - æ¨£å¼å„ªåŒ–
- `CarouselMessageEditor.tsx` - æ–°å¢çµ„ä»¶

**4. è¡¨å–®é©—è­‰ç³»çµ± (2025-11-12)**

**Git Commit**: `f248149 feat: æ–°å¢ç¾¤ç™¼è¨Šæ¯è¡¨å–®é©—è­‰èˆ‡å¿…å¡«æ¨™ç¤º`

**æ”¹å‹•å…§å®¹**:
- âœ… å¯¦ç¾å­—æ®µç´šåˆ¥é©—è­‰ (field-level validation)
- âœ… å¿…å¡«å­—æ®µæ¨™ç¤º (*)
- âœ… å¯¦æ™‚éŒ¯èª¤æç¤º
- âœ… æäº¤å‰å®Œæ•´æ€§æª¢æŸ¥
- âœ… ç”¨æˆ¶å‹å¥½çš„éŒ¯èª¤è¨Šæ¯

**é©—è­‰è¦å‰‡ç¤ºä¾‹**:
```typescript
const validation = {
  messageName: { required: true, maxLength: 50 },
  targetAudience: { required: true },
  scheduleDate: { required: true, futureDate: true },
  messageContent: { required: true, minLength: 1 }
};
```

**5. UI/UX æ”¹é€²**

| æ”¹é€²é …ç›® | æè¿° | Git Commit |
|---------|------|-----------|
| é è¦½æ¨£å¼å„ªåŒ– | Flex Message é è¦½æ›´æ¥è¿‘ LINE å¯¦éš›æ•ˆæœ | 14e66a2 |
| å¿…å¡«æ¨™ç¤ºèª¿æ•´ | èª¿æ•´æ¨™ç¤ºä½ç½®ï¼Œæå‡å¯è®€æ€§ | b9ae3a8 |
| è¡¨æ ¼çµ„ä»¶å„ªåŒ– | ç°¡åŒ–è¡¨æ ¼é‚è¼¯ï¼Œæå‡æ€§èƒ½ | ee7bc7b |

**6. ä»£ç¢¼å“è³ªæå‡**

**é‡æ§‹æˆæœ**:
- ğŸ“ æ–°å¢ 15+ æ–‡æª”æ–‡ä»¶ (é–‹ç™¼æŒ‡å—ã€é‡æ§‹ç¸½çµ)
- ğŸ—ï¸ çµ„ä»¶æ¨¡å¡ŠåŒ–æå‡ (auth, line-api-settings)
- ğŸ¯ TypeScript é¡å‹å®šç¾©å®Œå–„
- ğŸ§ª ç§»é™¤éºç•™ä»£ç¢¼ï¼Œé™ä½æŠ€è¡“å‚µå‹™

**æ–‡æª”æ–°å¢**:
- `REFACTORING_SUMMARY.md` - é‡æ§‹ç¸½çµ
- `CONTEXT_USAGE_GUIDE.md` - Context ä½¿ç”¨æŒ‡å—
- `TYPE_REFACTORING_SUMMARY.md` - é¡å‹é‡æ§‹èªªæ˜
- `BREADCRUMB_REFACTORING_SUMMARY.md` - å°èˆªé‡æ§‹
- `QUICK_START.md` - å¿«é€Ÿé–‹å§‹æŒ‡å—

#### æ€§èƒ½å½±éŸ¿åˆ†æ

| æŒ‡æ¨™ | v0.1 | v0.1.1 | è®ŠåŒ– |
|------|------|---------|------|
| ç¸½çµ„ä»¶æ•¸ | 218+ | 220+ | +2 |
| UI çµ„ä»¶åº« | 46 | 51 | +5 |
| Context å±¤æ•¸ | 4 | 5 | +1 (AuthProvider) |
| è·¯ç”±æ•¸é‡ | 6 | 8 | +2 (login, line-api-settings) |
| Figma çµ„ä»¶ | 121 | 150+ | +29 |
| æ–‡æª”æ–‡ä»¶ | 1 | 15+ | +14 |

#### å‡ç´šå»ºè­°

**å¾ v0.1 å‡ç´šåˆ° v0.1.1**:

1. **æ›´æ–°ä¾è³´**: `npm install` (ç„¡æ–°å¢å¤–éƒ¨ä¾è³´)
2. **ç’°å¢ƒè®Šæ•¸**: ç¢ºèª `VITE_API_BASE_URL` é…ç½®æ­£ç¢º
3. **å¾Œç«¯æ•´åˆ**: ç¢ºä¿å¾Œç«¯æä¾›èªè­‰ API ç«¯é»
4. **æ¸¬è©¦é©—è­‰**:
   - ç™»å…¥/ç™»å‡ºæµç¨‹
   - Token éæœŸè™•ç†
   - LINE API é…ç½®ä¿å­˜
   - Flex Message ç·¨è¼¯èˆ‡é è¦½

#### å·²çŸ¥å•é¡Œèˆ‡å¾ŒçºŒè¨ˆåŠƒ

**å·²çŸ¥å•é¡Œ**:
- Token è‡ªå‹•åˆ·æ–°æ©Ÿåˆ¶åƒ…éƒ¨åˆ†å¯¦ç¾
- æ¬Šé™ç³»çµ±éœ€è¦èˆ‡å¾Œç«¯ RBAC å®Œå…¨å°æ¥
- LINE API Webhook é©—è­‰åŠŸèƒ½å¾…å®Œå–„

**å¾ŒçºŒè¨ˆåŠƒ** (v0.1.2):
1. å®Œæ•´å¯¦ç¾ Token è‡ªå‹•åˆ·æ–°
2. æ¬Šé™ç³»çµ±èˆ‡å¾Œç«¯å®Œå…¨æ•´åˆ
3. å¢åŠ  E2E æ¸¬è©¦è¦†è“‹
4. å¯¦ç¾ Service Worker é›¢ç·šæ”¯æŒ
5. å„ªåŒ–å¤§å‹åˆ—è¡¨æ¸²æŸ“æ€§èƒ½ (è™›æ“¬åŒ–)

---

---

## æ›´æ–°è¨˜éŒ„

### v0.1.1 (2025-11-13)

**ä¸»è¦æ›´æ–°**:
- âœ… æ–°å¢ Section 4.6: LINE API è¨­ç½®æ¨¡å¡Š
- âœ… æ–°å¢ Section 4.7: èº«ä»½é©—è­‰æ¨¡å¡Š
- âœ… æ–°å¢ Section 6.5: AuthProvider æ–‡æª”
- âœ… æ–°å¢ Section 7.4: è·¯ç”±æ¬Šé™æ§åˆ¶
- âœ… æ–°å¢ Section 11.8: æœ€è¿‘æ”¹é€²èˆ‡é‡æ§‹
- âœ… æ›´æ–°æ¶æ§‹åœ–: åŠ å…¥ AuthProvider å’Œæ–°é é¢çµ„ä»¶
- âœ… æ›´æ–°è·¯ç”±è¡¨: æ–°å¢ login å’Œ line-api-settings è·¯ç”±
- âœ… æ›´æ–°çµ„ä»¶çµ±è¨ˆ: 220+ æ–‡ä»¶, 51 UI çµ„ä»¶, 150+ Figma çµ„ä»¶
- âœ… æ›´æ–°ç‹€æ…‹ç®¡ç†: äº”å±¤ Context ç³»çµ±
- âœ… æ›´æ–°æ•¸æ“šæµ: åŠ å…¥èªè­‰æª¢æŸ¥æµç¨‹
- âœ… æ›´æ–° API Client: å¢åŠ èªè­‰ Token è™•ç†

**æ–‡ä»¶è®Šæ›´**:
- æ–‡æª”ç‰ˆæœ¬: v0.1 â†’ v0.1.1
- æ–‡æª”æ—¥æœŸ: 2025-11-12 â†’ 2025-11-13
- æ–‡æª”ç‹€æ…‹: æ­£å¼ç‰ˆ â†’ æ­£å¼ç‰ˆ (å·²æ›´æ–°)
- æ–°å¢å…§å®¹: ~200 è¡Œ
- æ›´æ–°ç« ç¯€: 10+ å€‹ä¸»è¦ç« ç¯€

**æ›´æ–°äººå“¡**: Claude Code (AI åŠ©æ‰‹)
**å¯©æ ¸ç‹€æ…‹**: å¾…äººå·¥å¯©æ ¸

### v0.1 (2025-11-12)

**åˆå§‹ç‰ˆæœ¬**:
- ğŸ“ å»ºç«‹å®Œæ•´çš„å‰ç«¯æ¶æ§‹æ–‡æª”
- ğŸ—ï¸ è¨˜éŒ„é …ç›®çµæ§‹èˆ‡çµ„ä»¶è¨­è¨ˆ
- ğŸ“Š æ–‡æª”åŒ–æŠ€è¡“æ£§èˆ‡é–‹ç™¼æµç¨‹
- ğŸ¯ å®šç¾©æ ¸å¿ƒåŠŸèƒ½æ¨¡å¡Š

---

**æ–‡æª”çµæŸ**

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¯ç¹«å‰ç«¯åœ˜éšŠã€‚
