# 釐清問題
`LoginSession.expire_time` 的欄位說明同時寫到「登入後 24HR」與「於當日零時 00:00 自動登出」。若管理員於 23:30 登入，實際的到期時間該如何計算？是否需要同時滿足 24 小時與當日零時兩種規則？請明確定義會話過期邏輯（含時間基準時區）。

# 定位
ERM：LoginSession.expire_time 欄位定義  
Feature：登入系統 → Rule〈登入成功後建立會話，24HR 內保持自動登入〉與 Rule〈登入會話於當日零時 00:00 自動登出〉

# 多選題
| 選項 | 描述 |
|--------|-------------|
| A | `expire_time` 設為「登入時間 + 24 小時」與「下一個 00:00」的較早者，系統以同一欄位兼顧兩條規則 |
| B | `expire_time` 僅記錄「登入時間 + 24 小時」，每日 00:00 由排程另行將所有會話失效 |
| C | 改為僅適用「每日 00:00 自動登出」，忽略 24 小時規則 |
| D | 改為僅適用「登入 24 小時後過期」，不再強制 00:00 登出 |
| Short | 其他：Short answer (<=5 words) |

# 影響範圍
影響登入會話資料寫入、排程作業、權杖驗證邏輯以及自動登出的使用者體驗；同時會調整相關 Feature 測試案例。

# 優先級
High

# 決議
- 選項 A
- `expire_time` 定義為登入時間（UTC+8）+24 小時與下一個 00:00 的較早者，保留單一欄位即可滿足雙重規則。

# 規格更新
- `spec/erm.dbml`：更新 `LoginSession.login_time` 與 `expire_time` 說明，明確標示 UTC+8 時區與最小值邏輯。
- `spec/features/登入系統.feature`：調整 JWT Token 相關 Example，改為驗證 23:59 仍有效、跨過 00:00 後立即失效，並更新 `exp` 欄位描述。

# 狀態
Resolved on 2025-02-14
