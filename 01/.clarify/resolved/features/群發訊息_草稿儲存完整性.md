# 釐清問題

草稿儲存時，哪些欄位必須已填寫？是否允許「空白草稿」（僅保存名稱）？

# 定位

Feature：spec/features/create_broadcast.feature Rule 關於草稿儲存（約第180-192行）

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | 必須選擇模板才能儲存草稿，其他欄位可為空 |
| B | 允許完全空白草稿，任何階段都可儲存（連模板都可未選） |
| C | 必須填寫「草稿名稱」欄位，其他欄位可為空 |
| Short | 其他規則（<=5字）|

# 影響範圍

影響草稿儲存邏輯、資料驗證規則、草稿清單顯示、使用者體驗，以及草稿復原完整性。

# 優先級

Low

---
# 解決記錄

- **回答**：A - 必須選擇模板才能儲存草稿，其他欄位可為空
- **更新的規格檔**：spec/features/create_broadcast.feature
- **變更內容**：
  1. 更新「可以將未完成設定的群發訊息儲存為草稿」規則，明確說明必須已選擇模板（從模板庫選擇或建立新模板）
  2. 新增草稿儲存範例：
     - 已選擇模板但內容未填（空白模板草稿）
     - 從模板庫選擇但未完成設定（部分填寫草稿）
     - 未選擇模板無法儲存草稿（錯誤處理）
  3. 更新「儲存的草稿支援隨時可開啟編輯」規則，補充空白草稿編輯場景
- **設計理由**：
  - 符合資料庫設計（Message 1:1 MessageTemplate，template_id 為必填外鍵）
  - 符合使用者操作流程（第一步就會選擇模板來源）
  - 模板內容欄位皆為選填，允許空白草稿
  - 避免產生無法識別的「幽靈草稿」
