# 釐清問題

會員搜尋與篩選功能缺乏錯誤處理場景與異常情況定義

# 定位

Feature: 會員搜尋與篩選 (member_search_filter.feature)
Rule: 所有搜尋與篩選規則

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | 搜尋關鍵字包含 SQL 注入攻擊字元（如：'; DROP TABLE）時，系統進行轉義處理並繼續搜尋 |
| B | 搜尋關鍵字超過最大長度限制（如：>1000 字元）時，系統拒絕搜尋並顯示錯誤訊息 |
| C | 資料庫查詢逾時（如：>30 秒）時，系統中斷查詢並提示使用者縮小篩選範圍 |
| D | 多個篩選條件組合導致查詢結果為零時，系統提示使用者放寬篩選條件 |
| Short | 提供其他簡短答案(<=5 字) |

# 影響範圍

影響範圍：
1. member_search_filter.feature 需補充錯誤處理 Examples
2. 後端 API 需實作輸入驗證與錯誤處理邏輯
3. 前端需顯示對應的錯誤提示訊息
4. 效能測試需驗證大量資料查詢的處理策略

# 優先級

High

理由：
- 安全性風險：缺乏 SQL 注入防護可能導致資料庫攻擊
- 使用者體驗：未定義錯誤處理會導致功能異常無提示
- 效能風險：未定義查詢逾時策略可能影響系統穩定性

---

# 解決記錄

- **回答**：選項 D。當多個篩選條件組合導致 0 筆結果時，系統必須在介面上提示「找不到符合條件的會員，請放寬篩選條件」。
- **更新的規格檔**：`spec/features/member_search_filter.feature`
- **變更內容**：
  1. 新增 Rule「錯誤處理：篩選結果為零時提示放寬條件」。
  2. 加入範例：同時設定性別/標籤/城市無符合結果時，系統需顯示提示訊息。
- **業務影響**：
  - 使用者清楚知道查詢為何無結果，避免誤以為系統異常。
  - 鼓勵使用者調整篩選條件，提升搜尋成功率。
