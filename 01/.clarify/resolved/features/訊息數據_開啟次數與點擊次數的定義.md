# 釐清問題

「開啟次數」與「點擊次數」的精確定義為何？開啟次數是「會員開啟聊天室看到訊息」，點擊次數是「點擊訊息內按鈕或連結」？

# 定位

Feature：spec/features/message_analytics.feature Rule 關於開啟與點擊（約第41-53行）

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | 開啟次數 = 會員已讀訊息次數；點擊次數 = 點擊按鈕/連結次數 |
| B | 開啟次數 = 訊息送達數（無法追蹤實際開啟）；點擊次數 = 互動次數 |
| C | 需依賴 LINE Messaging API 提供的 impression 與 click 數據 |
| Short | 其他定義（<=5字）|

# 影響範圍

影響數據追蹤實作、LINE API 整合、成效分析準確性、開啟率計算，以及數據可信度。

# 優先級

High

---
# 解決記錄

- **回答**：A - 開啟次數 = 會員已讀訊息的不重複人數；點擊次數 = 點擊按鈕/連結的不重複人數
- **更新的規格檔**：spec/erm.dbml, spec/features/message_analytics.feature
- **變更內容**：
  - erm.dbml：更新 Message 實體的 open_count 與 click_count 欄位定義，明確計算邏輯為「COUNT(DISTINCT member_id)」
  - message_analytics.feature：擴充開啟次數與點擊次數規則，新增 5 個 Example：(1) 開啟次數顯示與計算邏輯、(2) 同一會員多次開啟僅計算一次、(3) 點擊次數顯示與計算邏輯、(4) 同一會員多次點擊僅計算一次、(5) 會員開啟但未點擊不計入點擊次數
