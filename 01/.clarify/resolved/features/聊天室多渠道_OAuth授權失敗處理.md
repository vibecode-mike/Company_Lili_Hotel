# 釐清問題

當 Webchat 用戶嘗試 LINE/Facebook/Google OAuth 登入失敗時，系統應如何處理？

# 定位

- Feature：聊天室多渠道 - Webchat 使用 LINE/Facebook/Google OAuth 登入
- 相關規則：所有 OAuth 登入場景

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | 顯示錯誤訊息，保持匿名訪客身份繼續聊天 |
| B | 顯示錯誤訊息，提示重新登入或選擇其他登入方式 |
| C | 自動重試一次，失敗後顯示錯誤並允許繼續 |
| D | 記錄錯誤日誌，前端不顯示詳細錯誤，僅提示「登入失敗」|
| Short | 提供其他簡短答案（<=5 字）|

# 影響範圍

- Webchat 前端錯誤處理 UI
- 後端 OAuth 整合錯誤日誌
- 用戶體驗（無法登入時的 fallback 行為）
- 客服是否能看到登入失敗的訪客

# 優先級

High - OAuth 登入是 Webchat 跨渠道整合的核心功能，失敗處理直接影響用戶體驗

---
# 解決記錄

- **回答**：B - 顯示錯誤訊息，提示用戶重新登入或選擇其他登入方式（不允許匿名聊天）
- **更新的規格檔**：01/spec/features/聊天室多渠道.feature
- **變更內容**：新增「OAuth 登入失敗處理」Rule 與 3 個 Example（LINE/Facebook/Google），定義錯誤訊息區分、重試按鈕、不允許匿名聊天、後端錯誤日誌記錄
