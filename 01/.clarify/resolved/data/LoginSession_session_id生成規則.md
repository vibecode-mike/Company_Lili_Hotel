# 釐清問題

LoginSession.session_id 的生成規則與格式為何？

# 定位

ERM：LoginSession 實體的 session_id 屬性（主鍵）生成策略

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | UUID v4（標準隨機 UUID，128 位元） |
| B | 自訂格式（時間戳 + 隨機字串，如 sess_20250114_abc123） |
| C | JWT Token（包含管理員資訊與過期時間） |
| D | 資料庫自動遞增 ID（整數型別） |
| Short | 提供其他簡短答案（<=5 字） |

# 影響範圍

影響會話管理的安全性、session_id 的唯一性保證、資料庫索引效能、以及 JWT 驗證策略

# 優先級

High - 涉及登入會話的核心安全性與唯一性保證

---

# 解決記錄

- **回答**：A - UUID v4（標準隨機 UUID，128 位元）
- **更新的規格檔**：spec/erm.dbml
- **變更內容**：更新 LoginSession 實體的 session_id 屬性 Note 說明，新增「生成規則：使用 UUID v4（標準隨機 UUID，128 位元），格式為 8-4-4-4-12 的 36 字元字串（如：550e8400-e29b-41d4-a716-446655440000）。UUID v4 提供全球唯一性保證、無碰撞風險、不可預測性，確保會話安全性。前後端 API 使用標準 UUID 字串格式傳輸」
- **解決時間**：2025-11-14
