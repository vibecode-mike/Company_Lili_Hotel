# 釐清問題

TagRule.threshold_value 欄位的小數精度要求為何？

# 定位

ERM：TagRule 實體的 threshold_value 屬性（float 型別）

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | 整數即可（不需小數，如 30000 元、3 次） |
| B | 最多 2 位小數（如 30000.50 元，適用於金額計算） |
| C | 最多 4 位小數（提供更精確的計算彈性） |
| D | 不限制精度（由資料庫 float 型別決定） |
| Short | 提供其他簡短答案（<=5 字） |

# 影響範圍

影響 TagRule 實體的資料驗證規則、前端輸入欄位格式、後端 API 驗證邏輯、以及標籤規則計算的精確度

# 優先級

Medium - 影響資料驗證完整性與使用者輸入體驗，但不阻礙核心功能

---

# 解決記錄

- **回答**：A - 整數即可（不需小數，如 30000 元、3 次）
- **更新的規格檔**：spec/erm.dbml
- **變更內容**：更新 TagRule 實體的 threshold_value 屬性 Note 說明，新增「小數精度限制：僅接受整數值，不支援小數（驗證邏輯：前端輸入欄位設定 step=1，後端 API 驗證值為整數）」
- **解決時間**：2025-11-14
