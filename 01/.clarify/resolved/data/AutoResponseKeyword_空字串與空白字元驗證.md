# 釐清問題

AutoResponseKeyword.keyword_text 是否允許空字串或僅包含空白字元？

# 定位

ERM：AutoResponseKeyword 實體的 keyword_text 屬性驗證規則

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | 不允許空字串或純空白字元（前後端皆驗證） |
| B | 允許空白字元但不允許空字串（支援空格作為關鍵字） |
| C | 允許空字串（用於觸發所有訊息） |
| D | 自動移除前後空白字元後驗證（trim 處理） |
| Short | 提供其他簡短答案（<=5 字） |

# 影響範圍

影響關鍵字驗證規則、前端輸入欄位處理邏輯、後端 API 驗證、以及關鍵字比對行為

# 優先級

Medium - 影響資料完整性與關鍵字比對正確性

---

# 解決記錄

- **回答**：A + D（混合策略）- 不允許空字串或純空白字元 + 自動 trim 處理
- **更新的規格檔**：spec/erm.dbml
- **變更內容**：更新 AutoResponseKeyword 實體的 keyword_text 屬性 Note 說明，新增「空字串驗證：不允許空字串或僅包含空白字元的關鍵字，前端與後端 API 皆驗證拒絕。自動處理：儲存前自動去除前後空白字元（trim），確保資料一致性」
- **解決時間**：2025-11-14
